<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Â§ßÈò™Á•ûÊà∂ÂØíÂÅáË°å 2026 (Èõ≤Á´ØÁâà)</title>
    
    <!-- 1. ËºâÂÖ• Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'jp-red': '#b91c1c',
                        'jp-black': '#1c1917',
                        'jp-offwhite': '#f5f5f4',
                    }
                }
            }
        }
    </script>
    
    <!-- 2. ËºâÂÖ• Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        body {
            background-color: #f5f5f4;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Loading Spinner */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #44403c;
            width: 24px;
            height: 24px;
            -webkit-animation: spin 1s linear infinite; /* Safari */
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 3. React + Firebase ÊáâÁî®Á®ãÂºèÈÇèËºØ -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'https://esm.sh/react@18?dev';
        import { createRoot } from 'https://esm.sh/react-dom@18/client?dev';
        import { 
            MapPin, Navigation, Utensils, Train, CloudSun, Calendar, 
            CreditCard, Plane, BedDouble, ChevronDown, ChevronUp, 
            Info, ShoppingBag, Plus, Trash2, Coffee, ExternalLink, 
            FileSpreadsheet, Footprints, AlertTriangle, ArrowRightCircle,
            Camera, Ticket, Ship, Car, Landmark, Bus, Image as ImageIcon, 
            Lock, KeyRound, Store, ShoppingCart, Trees, FerrisWheel,
            Wallet, UploadCloud, RefreshCw, XCircle, CheckCircle2, WifiOff, Save
        } from 'https://esm.sh/lucide-react@0.263.1?dev';

        // --- Firebase SDK Imports ---
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getFirestore, collection, doc, getDoc, setDoc, 
            addDoc, onSnapshot, query, orderBy, deleteDoc, serverTimestamp,
            initializeFirestore, memoryLocalCache 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Âª∫Á´ã Icon Â∞çÁÖßË°®
        const ICON_MAP = {
            MapPin, Navigation, Utensils, Train, CloudSun, Calendar,
            CreditCard, Plane, BedDouble, ChevronDown, ChevronUp,
            Info, ShoppingBag, Plus, Trash2, Coffee, ExternalLink,
            FileSpreadsheet, Footprints, AlertTriangle, ArrowRightCircle,
            Camera, Ticket, Ship, Car, Landmark, Bus, ImageIcon,
            Lock, KeyRound, Store, ShoppingCart, Trees, FerrisWheel,
            Wallet, UploadCloud, RefreshCw, XCircle, CheckCircle2, WifiOff, Save
        };

        const getIcon = (iconName) => {
            return ICON_MAP[iconName] || MapPin;
        };

        // ==========================================
        // üî• Ë®≠ÂÆöÂçÄÔºöFirebase Config üî•
        // ==========================================
        const firebaseConfig = {
            apiKey: "AIzaSyDc4SevImnUI9VgyOPdlWBsLXY7jfujRyU",
            authDomain: "jptrip202601-3df97.firebaseapp.com",
            projectId: "jptrip202601-3df97",
            storageBucket: "jptrip202601-3df97.firebasestorage.app",
            messagingSenderId: "590547128124",
            appId: "1:590547128124:web:e75559668273588da31839"
        };

        // ÂàùÂßãÂåñ Firebase
        let db;
        let isFirebaseReady = false;
        let initErrorMsg = "";

        try {
            if (firebaseConfig.apiKey) {
                if (getApps().length === 0) {
                    const app = initializeApp(firebaseConfig);
                    // ‰ΩøÁî®ÊúÄ‰øùÂÆàÁ©©ÂÆöÁöÑË®≠ÂÆöÔºöË®òÊÜ∂È´îÂø´Âèñ + Âº∑Âà∂Èï∑Ëº™Ë©¢
                    db = initializeFirestore(app, {
                        localCache: memoryLocalCache(),
                        experimentalForceLongPolling: true 
                    });
                    console.log("Firebase initialized (New Instance with Long Polling)");
                } else {
                    const app = getApp();
                    try {
                        db = getFirestore(app);
                    } catch {
                         db = initializeFirestore(app, {
                            localCache: memoryLocalCache(),
                            experimentalForceLongPolling: true
                        });
                    }
                    console.log("Firebase initialized (Existing Instance)");
                }
                isFirebaseReady = true;
            } else {
                initErrorMsg = "Ë®≠ÂÆöÊ™îÁ©∫ÁôΩ";
                console.warn("Firebase config is missing!");
            }
        } catch (e) {
            console.error("Firebase init error:", e);
            initErrorMsg = e.message;
        }

        // --- È†êË®≠Ë°åÁ®ãË≥áÊñô (ÂÆåÊï¥ÁâàÔºöÂåÖÂê´ÊâÄÊúâË©≥Á¥∞Ë≥áË®ä) ---
        const DEFAULT_TRIP_DATA = {
            flights: {
                outbound: { 
                    date: "1/11", 
                    from: "Âè∞‰∏≠ RMQ Ê∏ÖÊ≥âÂ¥óÊ©üÂ†¥ T2", 
                    time: "09:00", 
                    to: "Á•ûÊà∂ UKB Á•ûÊà∂Ê©üÂ†¥ T2", 
                    arrival: "12:30",
                    image: "https://images.unsplash.com/photo-1436491865332-7a61a109cc05?auto=format&fit=crop&q=80&w=800"
                },
                inbound: { 
                    date: "1/18", 
                    from: "Á•ûÊà∂ UKB Á•ûÊà∂Ê©üÂ†¥ T2", 
                    time: "13:30", 
                    to: "Âè∞‰∏≠ RMQ Ê∏ÖÊ≥âÂ¥óÊ©üÂ†¥ T2", 
                    arrival: "16:00" 
                }
            },
            hotels: [
                {
                    period: "1/11 - 1/15",
                    name: "Â§ßÈò™Èõ£Ê≥¢Áõ∏Èêµ GRAND FRESA",
                    address: "1 Chome-1-13 Nipponbashi, Chuo Ward, Osaka",
                    checkIn: "15:00",
                    checkOut: "11:00",
                    note: "ËøëÈêµÊó•Êú¨Ê©ãÁ´ô Exit 10 (ÊúâÈõªÊ¢Ø) / È£ØÂ∫ó‰ΩçÊñºÂÖ®ÂÆ∂‰æøÂà©ÂïÜÂ∫óÊóÅ",
                    image: "https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&q=80&w=800" 
                },
                {
                    period: "1/15 - 1/18",
                    name: "Á•ûÊà∂ËíôÁâπÂà©ÈÖíÂ∫ó Hotel Monterey Kobe",
                    address: "2 Chome-11-13 Shimoyamatedori, Kobe",
                    checkIn: "15:00",
                    checkOut: "11:00",
                    note: "Ê≠êÂºè‰∏≠‰∏ñÁ¥ÄÈ¢®Ê†ºÂª∫ÁØâ / ÁîüÁî∞Á•ûÁ§æÈôÑËøë",
                    image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800"
                }
            ],
            itinerary: [
                {
                day: 1,
                date: "1/11 (Êó•)",
                location: "Â§ßÈò™",
                weather: "Êô¥ÊôÇÂ§öÈõ≤ 8¬∞C",
                events: [
                    { type: 'flight', time: "12:30", title: "ÊäµÈÅîÁ•ûÊà∂Ê©üÂ†¥", desc: "ÂâçÂæÄÂ§ßÈò™Èõ£Ê≥¢" },
                    { 
                    type: 'transport', 
                    time: "13:00", 
                    title: "ÁßªÂãïÔºöÊ©üÂ†¥ ‚Üí Â§ßÈò™È£ØÂ∫ó", 
                    desc: "Á•ûÊà∂Ê©üÂ†¥Êê≠ Port Liner ËΩâ Èò™Á•ûÈõªËªä„ÄÇ",
                    isImportant: true,
                    detailedGuide: {
                        title: "1/11 ÁßªÂãïÊîªÁï•ÔºöÊ©üÂ†¥ ‚ûî Â§ßÈò™",
                        strategy: "Port Liner + Èò™Á•ûÈõªËªä (ÈóúÈçµÂú®‰∏âÂÆÆËΩâËªä)",
                        steps: [
                            { icon: "Plane", title: "Step 1: Ê©üÂ†¥ ‚Üí ‰∏âÂÆÆ", desc: "1. ÊäµÈÅîÂè£ (1F) Êê≠ÈõªÊ¢Ø‰∏ä 2F„ÄÇ\n2. Êê≠‰πò Port Liner ÂæÄ„Äå‰∏âÂÆÆ„Äç„ÄÇ\nüí∞ Á•®ÂÉπÔºö340 Êó•Âúì" },
                            { icon: "ArrowRightCircle", title: "Step 2: ‰∏âÂÆÆËΩâËªä (ÈóúÈçµÔºÅ)", desc: "Port Liner Âá∫Á´ôÂæÄÂè≥ÁúãÔºåÊâæÁ∂†Ëâ≤ MINT ÁôæË≤®„ÄÇ\n‚úÖ Êé®Ëñ¶ÔºöÊâæÂÖ•Âè£ÈôÑËøëÈõªÊ¢ØÁõ¥ÈÅî B1ÔºåÈÄ≤„ÄåÈò™Á•ûÈõªËªä Êù±ÊîπÊú≠Âè£„Äç„ÄÇ" },
                            { icon: "Train", title: "Step 3: Êê≠‰πòÈò™Á•ûÈõªËªä", desc: "ÊúàÂè∞Ôºö2 ËôüÊúàÂè∞ (ÂæÄÂ§ßÈò™Èõ£Ê≥¢/Â•àËâØ)„ÄÇ\n‚ö†Ô∏è ‰∏ãËªäÊ≥®ÊÑèÔºöÁ∂ìÈÅéÈõ£Ê≥¢Á´ô„ÄåË´ãÂãø‰∏ãËªä„ÄçÔºÅÂ§öÊê≠‰∏ÄÁ´ôËá≥„ÄåËøëÈêµÊó•Êú¨Ê©ã„Äç‰∏ãËªä„ÄÇ\nüí∞ Á•®ÂÉπÔºöÁ¥Ñ 630 Êó•Âúì (Èò™Á•û+ËøëÈêµ)" },
                            { icon: "MapPin", title: "Step 4: Êó•Êú¨Ê©ãÁ´ô ‚Üí È£ØÂ∫ó", desc: "Ëµ∞Êù±ÊîπÊú≠Âè£ÔºåÊâæ Exit 10 (ÊúâÈõªÊ¢Ø)„ÄÇ\nÂú∞Èù¢ÔºöÂá∫ÈõªÊ¢ØÈÅéÈ¶¨Ë∑ØÂà∞Â∞çÈù¢(Âéü6ËôüÂá∫Âè£ÂÅ¥)ÔºåÂæÄÂåó (ÈÄÜËªäÊµÅ) Ëµ∞ÔºåÈÅéÂÖ®ÂÆ∂Âç≥ÊäµÈÅî„ÄÇ" }
                        ]
                    } 
                    },
                    { 
                        type: 'food', 
                        time: "14:30", 
                        title: "ÂçàÈ§êÔºöÁâõ„Åã„Å§„ÇÇ„Å®Êùë", 
                        desc: "ÂçäÁÜüÁÇ∏ÁâõÊéíÂÆöÈ£üÔºåÂèØËá™Â∑±ÁÉ§„ÄÇÈÄöÂ∏∏ÈúÄÊéíÈöä„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,400 ~ ¬•2,200\nüìç Âú∞ÂùÄÔºöGour Cuss City, 2 Chome-4-2 Shinsaibashisuji, Chuo Ward, Osaka\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö11:00-22:00 (L.O. 21:00)\nüö∂ ‰∫§ÈÄöÔºöÂæûÈ£ØÂ∫óÊ≠•Ë°åÁ¥Ñ 9 ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÁü≥ÊùøÁèæÁÉ§ÔºåËÇâË≥™ËªüÂ´©ÔºåÊé®Ëñ¶Ê≤æËä•Êú´ÈÜ¨Ê≤π„ÄÇ",
                        tags: ["ÂøÖÂêÉ", "ÊéíÈöäÂêçÂ∫ó"],
                        address: "Gour Cuss City, 2 Chome-4-2 Shinsaibashisuji, Chuo Ward, Osaka" 
                    },
                    { 
                        type: 'spot', 
                        time: "16:00", 
                        title: "ÈªëÈñÄÂ∏ÇÂ†¥ / ÈÅìÈ†ìÂ†Ä", 
                        desc: "ÈÄõË°ó„ÄÅÂêÉÂ∞èÂêÉ„ÄÅË∑ëË∑ë‰∫∫ÁúãÊùø„ÄÇ", 
                        subDesc: "‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºöÈªëÈñÄÂ∏ÇÂ†¥Á¥ÑËá≥ 18:00ÔºåÈÅìÈ†ìÂ†ÄÂ∫óÂÆ∂ÁáüÊ•≠Ëá≥Ê∑±Â§ú\nüìç ÈáçÈªûÔºöÈªëÈñÄÂ∏ÇÂ†¥ÂøÖÂêÉÊµ∑ÈÆÆ„ÄÅËçâËéìÂ§ßÁ¶èÔºõÈÅìÈ†ìÂ†ÄÂøÖÊãçË∑ëË∑ë‰∫∫„ÄÇ\nüí° ÊèêÈÜíÔºöÈÉ®ÂàÜÂ∫óÂÆ∂Âè™Êî∂ÁèæÈáë„ÄÇ",
                        address: "Dotonbori, Osaka" 
                    }
                ]
                },
                {
                day: 2,
                date: "1/12 (‰∏Ä)",
                location: "ÊªãË≥ÄÁêµÁê∂Êπñ (KKday)",
                weather: "Â§öÈõ≤ 5¬∞C",
                events: [
                    { 
                        type: 'transport', 
                        time: "07:50", 
                        title: "ÊªãË≥ÄÁêµÁê∂Êπñ‰∏ÄÊó•ÈÅä (KKdayË°åÁ®ã)", 
                        desc: "ÁôΩÈ†àÁ•ûÁ§æ„ÉªËßÄÊôØÂè∞or‰∏âÂçÉÈô¢„ÉªÊªøÊúàÂØ∫ ÊµÆÁ¶¶Â†Ç„ÉªËøëÊ±üÂÖ´Âπ°",
                        // ÂÆåÊï¥ÂéüÊñáÊéíÁâàÔºå‰∏çÁ∏ÆÊ∏õÂÖßÂÆπ
                        subDesc: "ÈõÜÂêàÊôÇÈñì: 7:50\nÂá∫ÁôºÊôÇÈñì: 8:00\nÈõÜÂêàÂú∞Èªû: ËøëÈêµÊó•Êú¨Ê©ãËªäÁ´ô2ËôüÂá∫Âè£\nÂú∞ÂùÄ: „Äí542-0073 Â§ßÈò™Â∫úÂ§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÊó•Êú¨Ê©ãÔºë‰∏ÅÁõÆÔºì‚àíÔºñ\n\n‚ÄîËá™Ë≤ªÈñÄÁ•®ÂèÉËÄÉÂÉπ‚Äî\nüí∞ ÁêµÁê∂ÊπñËßÄÊôØÂè∞Á∫úËªäÔºö¬•3,500/‰∫∫/ÂæÄËøî\nüí∞ ‰∏âÂçÉÈô¢Ôºö¬•700/‰∫∫ (‰∏≠È´òÁîü¬•400/Â∞èÂ≠∏Áîü¬•150)\nüí∞ ÊªøÊúàÂØ∫Ôºö¬•300/‰∫∫", 
                        address: "1 Chome-3-6 Nipponbashi, Chuo Ward, Osaka",
                        isImportant: true
                    },
                    { 
                        type: 'spot', 
                        time: "10:00", 
                        title: "ÁôΩÈ†àÁ•ûÁ§æ", 
                        desc: "ËøëÊ±üÊúÄÂè§ËÄÅÁöÑÂ§ßÁ§æÔºåÊãçÊîùÊπñ‰∏≠È≥•Â±ÖÁµïÊôØ„ÄÇ", 
                        tags: ["ÊãçÁÖßÁÜ±Èªû", "Ê∞¥‰∏≠È≥•Â±Ö"] 
                    },
                    { 
                        type: 'spot', 
                        time: "11:30", 
                        title: "ÁêµÁê∂ÊπñËßÄÊôØÂè∞ Êàñ ‰∏âÂçÉÈô¢", 
                        desc: "Ë¶ñÁï∂Êó•Ë°åÁ®ã/Â≠£ÁØÄÂÆâÊéíÂâçÂæÄÂÖ∂‰∏≠‰∏ÄËôï (Ë≤ªÁî®Ëá™ÁêÜ)„ÄÇ", 
                        subDesc: "üí∞ ÁêµÁê∂ÊπñËßÄÊôØÂè∞Á∫úËªäÔºö¬•3,500/‰∫∫/ÂæÄËøî\nüí∞ ‰∏âÂçÉÈô¢Ôºö¬•700/‰∫∫",
                        tags: ["ÁµïÊôØ", "Ëá™Ë≤ªË°åÁ®ã"]
                    },
                    { 
                        type: 'spot', 
                        time: "14:00", 
                        title: "ÊªøÊúàÂØ∫ ÊµÆÁ¶¶Â†Ç", 
                        desc: "Âª∫Âú®ÁêµÁê∂Êπñ‰∏äÁöÑ‰ΩõÂ†ÇÔºåËøëÊ±üÂÖ´ÊôØ‰πã‰∏Ä„ÄåÂ†ÖÁî∞ËêΩÈõÅ„Äç„ÄÇ", 
                        subDesc: "üí∞ ÈñÄÁ•®Ôºö¬•300/‰∫∫",
                        tags: ["ÊñáÂåñÈÅ∫Áî¢"] 
                    },
                    { 
                        type: 'spot', 
                        time: "15:30", 
                        title: "ËøëÊ±üÂÖ´Âπ°", 
                        desc: "ÂÖ´Âπ°Â†ÄÊ∞¥ÈÑâÂè§Ë°óÊï£Á≠ñÔºåÊÑüÂèóÊ±üÊà∂È¢®ÊÉÖ„ÄÇ", 
                        tags: ["Ê∞¥ÈÑâ", "Ê≠∑Âè≤Ë°óÈÅì"] 
                    },
                    { 
                        type: 'food', 
                        time: "19:00", 
                        title: "ÊôöÈ§êÔºöÂåóÊ•µÊòüËõãÂåÖÈ£Ø", 
                        desc: "ËõãÂåÖÈ£ØÁôºÊ∫êÂú∞ÔºåÂÇ≥Áµ±Êó•ÂºèÊ¶ªÊ¶ªÁ±≥Â∫ß‰Ωç(ÈúÄËÑ´Èûã)„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,080 ~ ¬•1,600\nüìç Âú∞ÂùÄÔºöÂ§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄË•øÂøÉÈΩãÊ©ã2-7-27\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö11:30~21:30\nüö∂ ‰∫§ÈÄöÔºöÂæûÈ£ØÂ∫óÊ≠•Ë°åÁ¥Ñ 12 ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÁôæÂπ¥ËÄÅÂ±ãÔºåÂøÖÈªûÈõûËÇâËõãÂåÖÈ£Ø„ÄÇ",
                        tags: ["ÂøÖÂêÉ", "ËÄÅÂ∫ó"],
                        address: "2 Chome-7-27 Nishishinsaibashi, Chuo Ward, Osaka" 
                    }
                ]
                },
                {
                day: 3,
                date: "1/13 (‰∫å)",
                location: "‰∫¨ÈÉΩËøëÈÉä",
                weather: "Èô∞Áü≠Êö´Èõ® 4¬∞C",
                events: [
                    { 
                        type: 'transport', 
                        time: "07:10", 
                        title: "‰∫¨ÈÉΩÂ§©Ê©ãÁ´ãÁæéÂ±±‰∏ÄÊó•ÈÅä (KKdayË°åÁ®ã)", 
                        desc: "‰ºäÊ†πËàüÂ±ã„Éª‰ºäÊ†πÁî∫„ÉªËàüÂ±ãÊó•Âèä„ÉªÂ§©Ê©ãÁ´ã„Éª‰∫¨ÈÉΩÂêàÊéåÊùëÁæéÂ±±ËåÖÂ±ãÈÉ®ËêΩ", 
                        subDesc: "ÈõÜÂêàÊôÇÈñì: 7:10\nÂá∫ÁôºÊôÇÈñì: 7:20\nÈõÜÂêàÂú∞Èªû: Êó•Êú¨Ê©ãËªäÁ´ô2ËôüÂá∫Âè£\nÂú∞ÂùÄ: „Äí542-0073 Â§ßÈò™Â∫úÂ§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÊó•Êú¨Ê©ãÔºë‰∏ÅÁõÆÔºì‚àíÔºñ",
                        address: "1 Chome-3-6 Nipponbashi, Chuo Ward, Osaka" 
                    },
                    { 
                        type: 'spot', 
                        time: "09:50", 
                        title: "‰ºäÊ†πËàüÂ±ã", 
                        desc: "Êó•Êú¨Â®ÅÂ∞ºÊñØÔºåÂÇ≥Áµ±Ëá®Êµ∑Âª∫ÁØâÁæ§ (ÂÅúÁïôÁ¥Ñ40ÂàÜÈêò)„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºö‰∫¨ÈÉΩÂ∫ú‰∏éË¨ùÈÉ°‰ºäÊ†πÁî∫\nüí° Ê¥ªÂãïÔºöÂèØ‰ª•Ëá™Ë°åÊï£Ê≠•ÊàñÈ®éÂñÆËªä (È®éÂñÆËªäË≤ªÁî®Ë´ãËá™ÁêÜ)„ÄÇ\nüö¢ È´îÈ©óÔºöÂèØÊê≠‰πòÈÅäË¶ΩËàπÈ§µÊµ∑È∑ó (Á¥Ñ ¬•1,000)„ÄÇ\nüí° ÁâπËâ≤Ôºö‰∏ÄÊ®ìÁÇ∫ËàπÂ∫´„ÄÅ‰∫åÊ®ìÁÇ∫‰ΩèÂÆ∂ÁöÑÁç®ÁâπÂª∫ÁØâ„ÄÇ",
                        tags: ["ÁµïÊôØ", "ÂÇ≥Áµ±Âª∫ÁØâ"] 
                    },
                    { 
                        type: 'spot', 
                        time: "11:10", 
                        title: "Â§©Ê©ãÁ´ãËßÄÊôØÂè∞", 
                        desc: "Êó•Êú¨‰∏âÊôØ‰πã‰∏ÄÔºåËëóÂêçÁöÑ„ÄåÈ£õÈæçËßÄ„Äç (ÂÅúÁïôÊôÇÈñìÁ¥Ñ2Â∞èÊôÇÔºåÂçàÈ§êËá™ÁêÜ)„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºö‰∫¨ÈÉΩÂ∫úÂÆÆÊ¥•Â∏Ç\nüí∞ Á∫úËªä/ÂñÆËªåÈõªËªäÔºöÂæÄËøîÁ¥Ñ ¬•850\nüí° Áé©Ê≥ïÔºöËÉåÂ∞çÊôØËâ≤ÂΩéËÖ∞ÂæûË∑®‰∏ãÁúãÔºåÊ≤ôÊ¥≤ÊúÉÂÉè‰∏ÄÊ¢ùÈ£õÈæçÂú®Â§©„ÄÇ",
                        address: "Amanohashidate Viewland" 
                    },
                    { 
                        type: 'spot', 
                        time: "14:40", 
                        title: "ÁæéÂ±±ËåÖÂ±ãÈÉ®ËêΩ", 
                        desc: "‰∫¨ÈÉΩÂêàÊéåÊùëÔºåÊó•Êú¨ÂéüÁîüÈ¢®ÊôØ (ÂÅúÁïôÁ¥Ñ40ÂàÜÈêò)„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºö‰∫¨ÈÉΩÂ∫úÂçó‰∏πÂ∏ÇÁæéÂ±±Áî∫\nüí° ÁâπËâ≤ÔºöÁèæÂ≠òÁ¥Ñ38Ê£üËåÖËçâÂ±ãÔºåÂØßÈùúÁöÑÂ±±ÊùëÊ∞õÂúç„ÄÇ\nüç¶ ÂøÖÂêÉÔºöÁæéÂ±±Áâõ‰π≥ÈúúÊ∑áÊ∑ã„ÄÅÈõûËõãÂ∏É‰∏Å„ÄÇ",
                        tags: ["‰∏ñÁïåÈÅ∫Áî¢Ê∞õÂúç"] 
                    },
                    { 
                        type: 'transport', 
                        time: "15:20", 
                        title: "ËøîÁ®ã", 
                        desc: "ÈñãÂßãËøîÁ®ãÔºåÈ†êË®à 17:20 ÊñºÂøÉÈΩãÊ©ãÂçÄÂüüËß£Êï£„ÄÇ",
                        icon: "Bus"
                    },
                    { 
                    type: 'food', 
                    time: "19:00", 
                    title: "ÊôöÈ§êÔºöÁáíËÇâÂäõ‰∏∏", 
                    desc: "ÂúãÁî¢ÁâõÂêÉÂà∞È£ΩÔºåËÇâË≥™‰Ω≥ÔºåCPÂÄºÈ´ò„ÄÇ", 
                    subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÂêÉÂà∞È£ΩÊñπÊ°àÁ¥Ñ ¬•3,498 ~ ¬•5,808\nüìç Âú∞ÂùÄÔºöÊó•Êú¨„Äí542-0071 Osaka, Chuo Ward, Dotonbori, 1 Chome-9-1 5F\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö11:30~01:30\nüö∂ ‰∫§ÈÄöÔºöËàáÈ£ØÂ∫óË∑ùÈõ¢Á¥Ñ7ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÂéöÂàáÁâõËàåËàáÊ©´ËÜàËÜúÂøÖÈªû„ÄÇ",
                    tags: ["È†êÁ¥ÑÂà∂", "ÁáíËÇâ"],
                    address: "1 Chome-9-1 Dotonbori, Osaka" 
                    }
                ]
                },
                {
                day: 4,
                date: "1/14 (‰∏â)",
                location: "ÂãùÂ∞æÂØ∫/ÈáëÈñ£ÂØ∫/ÂµêÂ±±",
                weather: "Êô¥Êúó 9¬∞C",
                events: [
                    { 
                        type: 'transport', 
                        time: "07:45", 
                        title: "Êó•Êú¨‰∫¨ÈÉΩÂ§ßÈò™ÂêçÂãù‰∏ÄÊó•ÈÅä~ÂãùÂ∞æÂØ∫Á•àÈ°ò„ÉªÈáëÈñ£ÂØ∫Â∑°Á¶Æ„ÉªÂµêÂ±±ÁæéÊôØÈÅä(KKday‰∏ÄÊó•ÈÅä)", 
                        desc: "ÂãùÂ∞æÂØ∫„ÉªÈáëÈñ£ÂØ∫„ÉªÂµêÂ±±", 
                        subDesc: "ÈõÜÂêàÊôÇÈñì: 7:45\nÂá∫ÁôºÊôÇÈñì: 8:00\nÈõÜÂêàÂú∞Èªû: Â§ßÈò™ËøëÈêµÊó•Êú¨Ê©ãÁ´ô2ËôüÂá∫Âè£\nÂú∞ÂùÄÔºö1 Chome-3-3Áï™11 Nipponbashi, Chuo Ward, Osaka",
                        address: "1 Chome-3-3 Nipponbashi, Chuo Ward, Osaka" 
                    },
                    { 
                        type: 'spot', 
                        time: "10:00", 
                        title: "ÂãùÂ∞æÂØ∫ (Katsuo-ji)", 
                        desc: "Á•àÊ±ÇÂãùÈÅãÁöÑÈùàÈ©óÂØ∫ÂªüÔºåÊªøÂ±±ÊªøË∞∑ÁöÑÈÅîÊë©„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºöÂ§ßÈò™Â∫úÁÆïÈù¢Â∏ÇÂãùÂ∞æÂØ∫\nüí∞ ÈñÄÁ•®ÔºöÊàê‰∫∫ ¬•500\n‚è∞ ÂÅúÁïôÊôÇÈñìÔºöÁ¥Ñ70ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÈö®ËôïÂèØË¶ãÁöÑËø∑‰Ω†ÈÅîÊë©ÔºåÁ•àÊ±ÇËÄÉÈÅãËàáÂãùÈÅã„ÄÇ",
                        tags: ["ÂøÖÂãùÁ•àÈ°ò", "ÈÅîÊë©"],
                        address: "Katsuo-ji" 
                    },
                    { 
                        type: 'spot', 
                        time: "12:45", 
                        title: "ÂµêÂ±±Êï£Á≠ñ & ÂçàÈ§ê", 
                        desc: "Êº´Ê≠•Á´πÊûóÂ∞èÂæë„ÄÅÊ∏°ÊúàÊ©ã„ÄÅÂíåÊúçÊ£ÆÊûó„ÄÇ", 
                        subDesc: "üìç Âú∞Ê®ôÔºöÊ∏°ÊúàÊ©ã„ÄÅÈáéÂÆÆÁ•ûÁ§æ\n‚è∞ ÂÅúÁïôÊôÇÈñìÔºöÁ¥Ñ 150 ÂàÜÈêò\nüí° Êé®Ëñ¶Ôºö% Arabica ÂíñÂï°„ÄÅ‰∫¨Ë±ÜÂ∫µË±ÜËÖêÈúúÊ∑áÊ∑ã„ÄÇ",
                        tags: ["‰∏ñÁïåÈÅ∫Áî¢", "Á´πÊûó"],
                        address: "Arashiyama Bamboo Grove" 
                    },
                    { 
                        type: 'spot', 
                        time: "16:15", 
                        title: "ÈáëÈñ£ÂØ∫ (Kinkaku-ji)", 
                        desc: "ÈñÉËÄÄËëóÈáëËâ≤ÂÖâËºùÁöÑËàçÂà©ÊÆø„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºö‰∫¨ÈÉΩÂ∏ÇÂåóÂå∫ÈáëÈñ£ÂØ∫Áî∫1\nüí∞ ÈñÄÁ•®ÔºöÊàê‰∫∫ ¬•500\n‚è∞ ÂÅúÁïôÊôÇÈñìÔºöÁ¥Ñ40ÂàÜÈêò\n‚è∞ ÈñãÊîæÊôÇÈñìÔºö09:00-17:00\nüí° ÊãçÁÖßÔºö‰∏ãÂçàÈôΩÂÖâÁÖßÂ∞Ñ‰∏ãÈáëÁ¢ßËºùÁÖåÊúÄÁæé„ÄÇ",
                        tags: ["‰∏ñÁïåÈÅ∫Áî¢", "ÈáëÁ¢ßËºùÁÖå"],
                        address: "Kinkaku-ji" 
                    },
                    { 
                        type: 'transport', 
                        time: "18:30", 
                        title: "Ë°åÁ®ãÁµêÊùü", 
                        desc: "ËøîÂõûÂ§ßÈò™ËøëÈêµÊó•Êú¨Ê©ãÁ´ôËß£Êï£„ÄÇ", 
                        address: "ËøëÈêµÊó•Êú¨Ê©ãËªäÁ´ô" 
                    },
                    { 
                        type: 'food', 
                        time: "19:00", 
                        title: "ÊôöÈ§êÔºöÁ¶èÂ§™ÈÉéÂ§ßÈò™Ááí Êú¨Â∫ó", 
                        desc: "Á±≥ÂÖ∂ÊûóÊé®Ëñ¶ÁöÑ‰∫∫Ê∞£Â§ßÈò™ÁáíÂêçÂ∫ó„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,500 ~ ¬•2,500\nüìç Âú∞ÂùÄÔºöÂ§ßÈò™Â∏Ç‰∏≠Â§ÆÂå∫ÂçÉÊó•Ââç2-3-17\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºöÂπ≥Êó• 17:00-23:30 / ÈÄ±Êú´ÂÅáÊó• 12:00-23:30\nüí° ÂøÖÈªûÔºöËî•Ëä±Ááí (Negiyaki)ÔºåÂè£ÊÑüÈ¨ÜËªüÊªëÂ´©„ÄÇ",
                        tags: ["Á±≥ÂÖ∂ÊûóÊé®Ëñ¶", "ÊéíÈöäÂêçÂ∫ó"],
                        address: "2 Chome-3-17 Sennichimae, Chuo Ward, Osaka" 
                    }
                ]
                },
                {
                day: 5,
                date: "1/15 (Âõõ)",
                location: "ÁßªÂãïÊó•/Á•ûÊà∂",
                weather: "Êô¥ÊôÇÂ§öÈõ≤ 8¬∞C",
                events: [
                    { 
                    type: 'transport', 
                    time: "09:45", 
                    title: "ÁßªÂãïÔºöÂ§ßÈò™ ‚Üí Á•ûÊà∂", 
                    desc: "ËøëÈêµÊó•Êú¨Ê©ãÊê≠„ÄåÂø´ÈÄüÊÄ•Ë°å„ÄçÂæÄÁ•ûÊà∂‰∏âÂÆÆ„ÄÇ",
                    isImportant: true,
                    detailedGuide: {
                        strategy: "ÊúÄÁúÅÂäõÔºÅËøëÈêµ/Èò™Á•ûÁõ¥ÈÄöÈÅãËΩâ (ÂÖçËΩâ‰πò)",
                        steps: [
                            { icon: "Footprints", title: "Step 1: ÂâçÂæÄËªäÁ´ô (Ë°åÊùéÊîªÁï•)", desc: "ÈõñÁÑ∂È£ØÂ∫óÂú®Èõ£Ê≥¢Ôºå‰ΩÜÈõ¢„ÄåËøëÈêµÊó•Êú¨Ê©ãÁ´ô„ÄçÊõ¥Ëøë„ÄÇ\n‚úÖ Ë´ãËµ∞ Exit 10 (10ËôüÂá∫Âè£)ÔºåÊúâÈõªÊ¢ØÔºÅ\n‚ùå ÈÅøÈñã Exit 6 (Âè™ÊúâÊ®ìÊ¢Ø)„ÄÇ" },
                            { icon: "Train", title: "Step 2: ÈÄ≤Á´ôÊê≠Ëªä (ÈóúÈçµ)", desc: "Âà∑Âç°ÈÄ≤Á´ôÔºåÂ∞ãÊâæÂæÄ„ÄåÂ∞ºÂ¥é„ÉªÁ•ûÊà∂‰∏âÂÆÆ„ÄçÊúàÂè∞„ÄÇ\n‚úÖ Ë´ãÊê≠‰πòÔºöÁ¥ÖËâ≤Â≠óÈ´î„ÄåÂø´ÈÄüÊÄ•Ë°å (Rapid Express)„Äç\n‚ö†Ô∏è ÁµïÂ∞çÁ¶ÅÊ≠¢ÔºöÊ©òËâ≤Â≠óÈ´î„ÄåÁâπÊÄ• (Limited Express)„ÄçÔºåÈÄôÊòØÂÖ®ËªäÊåáÂÆöÂ∏≠ÔºåË™§Êê≠ÈúÄË£úÈ´òÈ°çÁ•®ÂÉπÔºÅ" },
                            { icon: "ArrowRightCircle", title: "Step 3: ÊäµÈÅîÁ•ûÊà∂‰∏âÂÆÆ", desc: "ÂàóËªäÊúÉÁõ¥ÈÄöÈò™Á•ûÁ∑öÔºå‰∏ÄË∑ØÂùêÂà∞„ÄåÁ•ûÊà∂‰∏âÂÆÆÁ´ô (Èò™Á•û)„Äç‰∏ãËªä„ÄÇ\nüí° Ë´ãÂæÄ„ÄåË•øÂè£ (West Exit)„ÄçÊîπÊú≠Âè£Âá∫Á´ôÔºåÈÄôË£°ÊúâÊâãÊâ∂Ê¢ØÊàñÈõªÊ¢Ø„ÄÇ" },
                            { icon: "MapPin", title: "Step 4: Ê≠•Ë°åËá≥È£ØÂ∫ó", desc: "Âá∫Ë•øÂè£ÂæåÂæÄÂåó (Â±±ÂÅ¥) Ëµ∞ÔºåÊ≤øÁîüÁî∞Ë∑ØÊ≠•Ë°åÁ¥Ñ 7-10 ÂàÜÈêòÔºåÂç≥ÂèØÁúãÂà∞Ê≠êÂºèÂª∫ÁØâÁöÑËíôÁâπÂà©ÈÖíÂ∫ó„ÄÇ" }
                        ]
                    }
                    },
                    { type: 'hotel', time: "11:30", title: "ÂØÑÊîæË°åÊùé", desc: "Á•ûÊà∂ËíôÁâπÂà©ÈÖíÂ∫ó", address: "Hotel Monterey Kobe" },
                    { 
                    type: 'food', 
                    time: "12:00", 
                    title: "ÂçàÈ§êÔºöKobe Beef Steak Sakura", 
                    desc: "Á•ûÊà∂ÁâõÊéíÈ´îÈ©óÔºåÊèê‰æõÈ´òÂìÅË≥™ A5 Á•ûÊà∂Áâõ„ÄÇ",
                    subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÂçàÈ§êÂ•óÈ§êÁ¥Ñ ¬•5,000 ~ ¬•8,000\nüìç Âú∞ÂùÄÔºöÁ•ûÊà∂Â∏Ç‰∏≠Â§ÆÂçÄ‰∏ãÂ±±ÊâãÈÄö2-17-10 (2F)\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö11:30-14:00; 17:00-21:00\nüö∂ ‰∫§ÈÄöÔºöÂæûËíôÁâπÂà©ÈÖíÂ∫óÊ≠•Ë°åÁ¥Ñ 2 ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöËøëÈ£ØÂ∫óÔºåË£ùÊΩ¢ÂÖ∏ÈõÖÔºåÂçàÈñìÂ•óÈ§ê CP ÂÄºÈ´ò„ÄÇ",
                    tags: ["ÂøÖÂêÉ", "Á•ûÊà∂Áâõ"],
                    address: "2 Chome-17-10 Shimoyamatedori, Kobe" 
                    },
                    { 
                        type: 'spot', 
                        time: "14:00", 
                        title: "Á•ûÊà∂Ê∏ØÊï£Á≠ñ", 
                        desc: "Ëá®Êµ∑Ê®ÇÂúí„ÄÅÈ¶¨Ë≥ΩÂÖãÂª£Â†¥Ëá™Áî±Ê¥ªÂãï„ÄÇ", 
                        subDesc: "üìç Âú∞ÈªûÔºöKobe Harborland\nüí° ‰∫ÆÈªûÔºöÁ¥ÖÁ£öÂÄâÂ∫´„ÄÅÈ∫µÂåÖË∂Ö‰∫∫ÂçöÁâ©È§®„ÄÅÈ¶¨Ë≥ΩÂÖãÂ§ßÊë©Â§©Ëº™„ÄÇ\nüö∂ ‰∫§ÈÄöÔºöÂæû‰∏âÂÆÆÊê≠ JR Âà∞Á•ûÊà∂Á´ôÔºåÊ≠•Ë°å 5 ÂàÜÈêò„ÄÇ",
                        address: "Kobe Harborland",
                        detailedGuide: {
                            title: "ÁßªÂãïÊîªÁï•ÔºöÂâçÂæÄËá®Êµ∑Ê®ÇÂúí",
                            strategy: "Ê≠•Ë°å + JR Á•ûÊà∂Á∑ö (Á¥Ñ 25 ÂàÜÈêò)",
                            steps: [
                                { icon: "Footprints", title: "Step 1: Ê≠•Ë°åËá≥ JR ‰∏â‰πãÂÆÆÁ´ô (Á¥Ñ 8 ÂàÜ)", desc: "ÂæûÈ§êÂª≥Ê≤øÁÜ±È¨ßÁöÑÁîüÁî∞Ë∑ØÂæÄËªäÁ´ôÊñπÂêëËµ∞„ÄÇ\nüéØ ÁõÆÊ®ôÔºöJR ‰∏â‰πãÂÆÆÁ´ô„ÄåË•øÂè£„ÄçÊàñ„Äå‰∏≠Â§ÆÂè£„Äç„ÄÇ" },
                                { icon: "Train", title: "Step 2: Êê≠‰πò JR Á•ûÊà∂Á∑ö (Á¥Ñ 4 ÂàÜ)", desc: "‚úÖ Ëµ∑ÈªûÔºöJR ‰∏â‰πãÂÆÆ ‚Üí üèÅ ÁµÇÈªûÔºöJR Á•ûÊà∂Á´ô (Kobe Station)„ÄÇ\n‚ö†Ô∏è Ê≥®ÊÑèÔºöË´ãÂú®„ÄåÁ•ûÊà∂Á´ô„Äç‰∏ãËªä (‰∏çÊòØÊñ∞Á•ûÊà∂/Á•ûÊà∂‰∏âÂÆÆ)„ÄÇ\nüöÑ ÊñπÂêëÔºöÂæÄÂß¨Ë∑Ø„ÄÅË•øÊòéÁü≥„ÄÇËªäÁ®ÆÁöÜÂèØÊê≠ (Êñ∞Âø´ÈÄü/Âø´ÈÄü/ÊôÆÈÄö)„ÄÇ" },
                                { icon: "MapPin", title: "Step 3: Ê≠•Ë°åËá≥Ëá®Êµ∑Ê®ÇÂúí", desc: "JR Á•ûÊà∂Á´ô„Äå‰∏≠Â§ÆÂè£„ÄçÂá∫Á´ô„ÄÇ\nüëâ Ë∑üÈö®„ÄåHarborland„ÄçÊàñ„Äåumie„ÄçÊåáÊ®ôÔºåÁ∂ìÂú∞‰∏ãË°ó (Duo Kobe) Áõ¥ÈÄöÈ¶¨Ë≥ΩÂÖãÂª£Â†¥„ÄÇ" }
                            ]
                        },
                        attractions: [
                            { label: "ÊôØÈªû", text: "Á•ûÊà∂ÁÖâÁì¶ÂÄâÂ∫´ (Kobe Brick Warehouse)" },
                            { label: "Êï£Ê≠•", text: "ÁæéÂà©Â†ÖÂÖ¨Âúí (Meriken Park)" },
                            { label: "ÈÄõË°ó", text: "Mosaic È¶¨Ë≥ΩÂÖãÂª£Â†¥ & È∫µÂåÖË∂Ö‰∫∫\n(Êé®Ëñ¶Ôºö2F ÂêâÂçúÂäõÂÖ±ÂíåÂúã„ÄÅÂè≤Âä™ÊØîÂ∞àË≥£Â∫ó)" },
                            { label: "ÂøÖÊãç", text: "ÊÑõ‰πãÈÉµÁ≠í (Love's Postbox) - ÈÉµÂ±ÄÊóÅÁ≤âÁ¥ÖËâ≤ÈÉµÁ≠í" }
                        ]
                    },
                    { 
                        type: 'spot', 
                        time: "15:45", 
                        title: "Á•ûÊà∂ÂçîÂ•èÊõ≤Ëôü (Concerto) ÈÅäËàπÈ´îÈ©ó", 
                        desc: "‰∫´ÂèóÁ•ûÊà∂Ê∏ØÁöÑÊµ™Êº´Â§ïÈôΩËàáÂçÉËê¨Â§úÊôØ„ÄÇ", 
                        tags: ["Êµ™Êº´", "Â§úÊôØ"],
                        detailedGuide: {
                            title: "ÈÅäËàπË°åÁ®ãË°®",
                            strategy: "Êµ™Êº´Â§ïÈôΩËàáÂ§úÊôØ",
                            steps: [
                                { icon: "Footprints", title: "15:45 - 16:00 | ÂâçÂæÄÊ´ÉÂè∞", desc: "ÊÖ¢ÊÖ¢Ëµ∞Âà∞ Mosaic 1 Ê®ìÁöÑ Concerto (ÂçîÂ•èÊõ≤Ëôü) Ê´ÉÂè∞Ê∫ñÂÇôÂ†±Âà∞„ÄÇ" },
                                { icon: "Ticket", title: "16:00 | Â†±Âà∞", desc: "ÊèõÂèñÁôªËàπË≠â" },
                                { icon: "Ship", title: "16:30 - 18:15 | Âá∫Ëà™", desc: "üö¢ Á•ûÊà∂ÂçîÂ•èÊõ≤Ëôü (Concerto) ÈÅäÊµ∑" },
                                { icon: "Camera", title: "18:15 - 18:30 | ‰∏ãËàπ", desc: "‰∏ãËàπ & ÊãçÊîùÊ∏ØÁÅ£Â§úÊôØ" }
                            ]
                        }
                    },
                    { 
                        type: 'food', 
                        time: "18:30", 
                        title: "ÊôöÈ§êÔºöÂïÜÂ†¥Ë¶ìÈ£ü (Mosaic / Umie)", 
                        desc: "ÁµêÊùüÈÅäËàπÂæåÔºåÁõ¥Êé•Âú® Mosaic È¶¨Ë≥ΩÂÖãÂª£Â†¥Êàñ Umie Ë≥ºÁâ©‰∏≠ÂøÉ‰∫´Áî®ÊôöÈ§ê„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,500 ~ ¬•3,000\nüìç Âú∞ÈªûÔºöMosaic Âª£Â†¥ 2F/3F\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºöËá≥ 22:00\nüí° Êé®Ëñ¶ÔºöEggs 'n Things (È¨ÜÈ§Ö)„ÄÅFisherman's Market (Êµ∑ÈÆÆËá™Âä©)„ÄÇ",
                        tags: ["Ëá™Áî±È£ü", "ÊôØËßÄÈ§êÂª≥"],
                        address: "Kobe Harborland umie Mosaic" 
                    },
                    { 
                        type: 'spot', 
                        time: "19:00", 
                        title: "Á•ûÊà∂Ê∏ØÂ°î", 
                        desc: "Ê¨£Ë≥ûÁ•ûÊà∂ÂçÉËê¨Â§úÊôØ",
                        subDesc: "üìç Âú∞ÂùÄÔºöÊó•Êú¨„Äí650-0042 Hyogo, Kobe, Chuo Ward, Hatobacho, 5-5\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö09:00-23:00 (‚ÄªÊúÄÂæåÂÖ•Â†¥ÊôÇÈñìÁÇ∫Êôö‰∏ä10ÊôÇÂçä)",
                        attractions: [
                            { label: "ÈñÄÁ•® (Â±ïÊúõÂ±§+Â±ãÈ†Ç)", text: "Êàê‰∫∫ 1,200Êó•Âúì (È´ò‰∏≠ÁîüÂèä‰ª•‰∏ä)" },
                            { label: "ÈñÄÁ•® (ÂÉÖÂ±ïÊúõÂ±§)", text: "Êàê‰∫∫ 1,000Êó•Âúì (È´ò‰∏≠ÁîüÂèä‰ª•‰∏ä)" }
                        ],
                        address: "Kobe Port Tower" 
                    },
                    { 
                        type: 'transport', 
                        time: "20:30", 
                        title: "ËøîÂõûÈ£ØÂ∫ó", 
                        desc: "Êê≠‰πòË®àÁ®ãËªä",
                        subDesc: "‰∫§ÈÄöÊñπÂºèÔºöÁõ¥Êé•ÊîîËªäÊàñ‰ΩøÁî® Uber / GO App ËøîÂõûËíôÁâπÂà©ÈÖíÂ∫ó",
                        icon: "Car" 
                    }
                ]
                },
                {
                day: 6,
                date: "1/16 (‰∫î)",
                location: "Á•ûÊà∂",
                weather: "Êô¥Êúó 7¬∞C",
                events: [
                    { 
                        type: 'food', 
                        time: "09:00", 
                        title: "Êó©È§êÔºöNishimura's Coffee", 
                        desc: "75Âπ¥Ê≠∑Âè≤Âæ∑ÂºèÂíñÂï°Âª≥ (‰∏≠Â±±ÊâãÊú¨Â∫ó)ÔºåÁ•ûÊà∂ÂíñÂï°ÊñáÂåñÁöÑ‰ª£Ë°®„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,000 ~ ¬•1,500\nüìç Âú∞ÂùÄÔºöÁ•ûÊà∂Â∏Ç‰∏≠Â§ÆÂçÄ‰∏≠Â±±ÊâãÈÄö1-26-3\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö08:30-23:00\nüö∂ ‰∫§ÈÄöÔºöÂæûËíôÁâπÂà©ÈÖíÂ∫óÊ≠•Ë°åÁ¥Ñ 7 ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÂøÖÈªûÊó©È§êÂ•óÈ§êÔºåÊÑüÂèóÁ•ûÊà∂ÁöÑËÄÅÊ¥æÂÑ™ÈõÖ„ÄÇ",
                        tags: ["ËÄÅÊ¥æÊµ™Êº´", "‰∫∫Ê∞£Êó©È§ê"],
                        address: "1 Chome-26-3 Nakayamatedori, Kobe" 
                    },
                    { 
                        type: 'spot', 
                        time: "10:15", 
                        title: "ÂåóÈáéÂ§©ÊªøÂÆÆ", 
                        desc: "‰æõÂ•âÂ≠∏Âïè‰πãÁ•ûÔºåÂèØ‰øØÁû∞È¢®Ë¶ãÈõû‰πãÈ§®„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºöÂåóÈáéÁî∫3-12\nüö∂ ‰∫§ÈÄöÔºöËµ∞Ë∑ØÂæû Nishimura's Coffee Âà∞Â§©ÊªøÂÆÆÁ¥Ñ 12 ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÁà¨‰∏äÈöéÊ¢ØÂæåÁöÑË¶ñÈáéÊ•µ‰Ω≥ÔºåÂèØÁúãË¶ãÁ•ûÊà∂Â∏ÇÊôØ„ÄÇ",
                        tags: ["Â≠∏Âïè‰πãÁ•û", "Áµï‰Ω≥Ë¶ñÈáé"],
                        address: "Kitano Tenmangu Shrine" 
                    },
                    { 
                        type: 'spot', 
                        time: "10:45", 
                        title: "ÂåóÈáéÁï∞‰∫∫È§®Ë°ó", 
                        desc: "ÊòéÊ≤ªÊôÇ‰ª£ÁöÑÂ§ñÂúã‰∫∫‰ΩèÂÆÖÂçÄ„ÄÇ", 
                        address: "Kitano Ijinkan-gai",
                        subDesc: "‚Äª Ë©≥Á¥∞Á•®ÂÉπË≥áË®äË´ãÂèÉË¶ã„ÄåË≥áË®ä„ÄçÈ†ÅÈù¢",
                        attractions: [
                            { label: "ÂøÖÂéª", text: "ÁôæÂπ¥ÊòüÂ∑¥ÂÖã (Starbucks Kobe Kitano Ijinkan)\nÊó•Êú¨ÁôªÈåÑÊúâÂΩ¢ÊñáÂåñË≤°ÔºåÊ¥ãÂºèÊú®ÈÄ†Âª∫ÁØâÔºåÂøÖË®™ÊâìÂç°Èªû„ÄÇ" },
                            { label: "ÂøÖË≤∑‰º¥ÊâãÁ¶Æ", text: "1. È¢®Ë¶ãÈõûÊú¨ËàñÔºöÁÉ§Ëµ∑Âè∏Â∏É‰∏Å\n2. ÂÖ≠Áî≤ÁâßÂ†¥ÔºöÈúúÊ∑áÊ∑ã„ÄÅÁâõÂ•∂ÂÜ∞Ê∑áÊ∑ã„ÄÅ‰π≥ÈÖ™ËõãÁ≥ï\n3. Á•ûÊà∂ FrantzÔºöÈ≠îÊ≥ï‰πãÂ£∫Â∏É‰∏Å\n4. Á•ûÊà∂È¢®ÊúàÂ†ÇÔºöÊ≥ïËò≠ÈÖ•" }
                        ],
                        detailedGuide: {
                            title: "Áï∞‰∫∫È§®ÂèÉËßÄÊîªÁï•",
                            strategy: "Êï£Ê≠• + ÂèÉËßÄÂ•óÁ•®",
                            steps: [
                                { icon: "Footprints", title: "‰∫§ÈÄöÊñπÂºè", desc: "ÂæûÂåóÈáéÂ§©ÊªøÂÆÆÊ≠•Ë°åÁ¥Ñ 2 ÂàÜÈêòÂç≥ÂèØÊäµÈÅî‰∏ªË¶ÅË°óÈÅì„ÄÇ" },
                                { icon: "Ticket", title: "Ë≥ºÁ•®Ë≥áË®ä", desc: "Âª∫Ë≠∞Ë≥ºË≤∑„ÄåÂ•óÁ•® (Pass)„ÄçËºÉÂàíÁÆó„ÄÇ\nÊé®Ëñ¶Ôºö3È§®Âà∏ (È¢®Ë¶ãÈõû+ËêåÈªÉ+È≠öÈ±ó) Êàñ ÂÖ©È§®Âà∏ (È¢®Ë¶ãÈõû+ËêåÈªÉ)„ÄÇ\nË≥ºÁ•®ËôïÔºöÂêÑÈ§®ÂÖ•Âè£ÊàñÂåóÈáéËßÄÂÖâÊ°àÂÖßÊâÄ„ÄÇ" },
                                { icon: "Landmark", title: "ÂøÖË®™ÔºöÈ¢®Ë¶ãÈõû‰πãÈ§® (Kazamidori)", desc: "Á¥ÖËâ≤Á£öÁì¶ËàáÂ±ãÈ†ÇÁöÑÈ¢®Ë¶ãÈõûÊòØÂåóÈáéÁöÑË±°Âæµ (ÂúãÂÆ∂ÈáçË¶ÅÊñáÂåñË≤°)„ÄÇ" },
                                { icon: "Landmark", title: "ÂøÖË®™ÔºöËêåÈªÉ‰πãÈ§® (Moegi)", desc: "Ê∑°Á∂†Ëâ≤Â§ñÁâÜÁöÑÊú®ÈÄ†Âª∫ÁØâÔºåÊõæÊòØÁæéÂúãÁ∏ΩÈ†ò‰∫ãÂÆòÈÇ∏„ÄÇ" },
                                { icon: "Landmark", title: "ÂøÖË®™ÔºöÈ≠öÈ±ó‰πãÂÆ∂ (Uroko)", desc: "Â§ñÁâÜË≤ºÊªøÂ§©ÁÑ∂Áü≥ÊùøÂÉèÈ≠öÈ±ó‰∏ÄÊ®£ÔºåÊìöË™™Êë∏‰∫ÜÊúÉÂ∏∂‰æÜÂ•ΩÈÅã„ÄÇ" }
                            ]
                        }
                    },
                    { 
                        type: 'food', 
                        time: "12:30", 
                        title: "ÂçàÈ§êÔºöKobe IJINKAN-YA", 
                        desc: "‰ΩçÊñºÂåóÈáéÂçÄÂüüÁöÑÂæ©Âè§Ê¥ãÈ£üÈ§êÂª≥„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,500 ~ ¬•2,500\nüìç Âú∞ÂùÄÔºöÁ•ûÊà∂Â∏Ç‰∏≠Â§ÆÂçÄÂåóÈáéÁî∫3-4-26\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö10:00-18:00\nüí° ÁâπËâ≤ÔºöÊé®Ëñ¶Êº¢Â†°Êéí„ÄÅËõãÂåÖÈ£Ø„ÄÇ",
                        address: "3 Chome-4-26 Kitanocho, Kobe" 
                    },
                    { 
                        type: 'shopping', 
                        time: "14:30", 
                        title: "Center Plaza („Çª„É≥„Çø„Éº„Éó„É©„Ç∂)", 
                        desc: "Á•ûÊà∂ÁöÑÂãïÊº´ËÅñÂú∞ÔºåÂÖ¨‰ªîÊ®°ÂûãÈõÜ‰∏≠Âú∞„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºö‰∏âÂÆÆÁî∫1-9-1 (Ë•øÈ§®2F/3F)\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö11:00-19:00 (‰æùÂ∫óÂÆ∂ËÄåÁï∞)\nüö∂ ‰∫§ÈÄöÔºöÂæûÁï∞‰∫∫È§®ÂçÄÊ≠•Ë°åÊàñÊê≠‰πò City Loop Â∑¥Â£´Ëá≥‰∏âÂÆÆ\nüí° ÁâπËâ≤ÔºöÁ•ûÊà∂ÁâàÁßãËëâÂéüÔºåAnimate„ÄÅLashinbang ÈÉΩÂú®ÈÄô„ÄÇ",
                        tags: ["ÂãïÊº´", "ÈõªÁé©", "Âæ°ÂÆÖËÅñÂú∞"],
                        address: "Center Plaza Kobe" 
                    },
                    { 
                        type: 'shopping', 
                        time: "16:00", 
                        title: "Á•ûÊà∂Èò™ÊÄ•ÁôæË≤®", 
                        desc: "Ë≥ºË≤∑Á•ûÊà∂ÈôêÂÆöÁîúÈªûËàá‰º¥ÊâãÁ¶Æ„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºöÂ∞èÈáéÊüÑÈÄö8-1-8\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö10:00-20:00\nüö∂ ‰∫§ÈÄöÔºöÂæûCenter PlazaÊ≠•Ë°åÁ¥Ñ3ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöB1 ÁîúÈªûË°óÂøÖÈÄõÔºåÈõÜÁµêÂêÑÂ§ßÁ•ûÊà∂ÂêçÂ∫ó„ÄÇ",
                        tags: ["ÁôæË≤®ÂÖ¨Âè∏", "‰º¥ÊâãÁ¶Æ"],
                        address: "Kobe Hankyu" 
                    },
                    { 
                        type: 'food', 
                        time: "18:00", 
                        title: "ÊôöÈ§êÔºöKobesteak Propeller", 
                        desc: "È´òÂìÅË≥™Á•ûÊà∂ÁâõÊéíËàáÊ¥ãÈ£üÔºåCPÂÄºÈ´ò„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•3,000 ~ ¬•6,000\nüìç Âú∞ÂùÄÔºöÁ£Ø‰∏äÈÄö8-1-14\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö11:00-14:30, 17:00-21:00\nüö∂ ‰∫§ÈÄöÔºöÁî±Èò™ÊÄ•Ê≠•Ë°åÁ¥Ñ3ÂàÜÈêò\nüí° ÁâπËâ≤Ôºö‰∏çÊÉ≥Ëä±Â§ßÈå¢ÂêÉÁ•ûÊà∂ÁâõÁöÑÈ¶ñÈÅ∏ÔºåÂ•óÈ§êÈôÑÈ§êË±êÂØå„ÄÇ",
                        tags: ["ÈúÄÈ†êË®Ç", "Á•ûÊà∂Áâõ", "‰∫∫Ê∞£Â∫ó"],
                        address: "8 Chome-1-14 Isogamidori, Kobe" 
                    }
                ]
                },
                {
                day: 7,
                date: "1/17 (ÂÖ≠)",
                location: "Á•ûÊà∂",
                weather: "Â§öÈõ≤ 6¬∞C",
                events: [
                    { 
                        type: 'spot', 
                        time: "09:00", 
                        title: "ÁîüÁî∞Á•ûÁ§æ", 
                        desc: "Á•ûÊà∂Âú∞ÂêçÁöÑÁî±‰æÜÔºåÂè§ËÄÅÁ•ûÁ§æ„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºö‰∏ãÂ±±ÊâãÈÄö1-2-1\nüí° ÁâπËâ≤Ôºö‰∏ªÁ•ÄÊàÄÊÑõËàáÂßªÁ∑£ÔºåÊ∞¥Âç†ÂçúÂøÖÁé©„ÄÇ",
                        tags: ["ÊàÄÊÑõÁµêÁ∑£", "ËÉΩÈáèÊôØÈªû"],
                        address: "1 Chome-2-1 Shimoyamatedori, Chuo Ward, Kobe" 
                    },
                    { 
                        type: 'food', 
                        time: "10:30", 
                        title: "Êó©ÂçàÈ§êÔºöBRISK STAND", 
                        desc: "IGÁàÜÁ¥ÖÁöÑ„ÄåÂàáÂ∞çÂçäÊº¢Â†°„Äç„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•1,500 ~ ¬•2,500\nüìç Âú∞ÂùÄÔºöÂÖÉÁî∫ÈÄö5-4-8\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºöÂπ≥Êó• 10:30~16:30 / ÈÄ±Êú´ 10:30~18:30\nüö∂ ‰∫§ÈÄöÊñπÂºèÔºöÂæûÁîüÁî∞Á•ûÁ§æÊ≠•Ë°åÁ¥Ñ 13 ÂàÜÈêò\nüí° ÁâπËâ≤ÔºöÂÖàÁÖÆÂæåÁÉ§ÁöÑÊº¢Â†°ÊéíÔºåÂ∞çÂàáÊñ∑Èù¢ÁßÄË∂ÖÂê∏Áùõ„ÄÇ",
                        tags: ["IGÁÜ±ÈñÄ", "Êº¢Â†°ÂêçÂ∫ó"],
                        address: "5 Chome-4-8 Motomachidori, Kobe" 
                    },
                    { 
                        type: 'shopping', 
                        time: "12:00", 
                        title: "Á•ûÊà∂‰∏âÁî∞ Premium Outlets", 
                        desc: "Ë•øÊó•Êú¨ÊúÄÂ§ßÁ¥öOutletÔºåÂ∫óËàñÊï∏Ë∂ÖÈÅé200ÂÆ∂„ÄÇ", 
                        subDesc: "üìç Âú∞ÂùÄÔºöÁ•ûÊà∂Â∏ÇÂåóÂçÄ‰∏äÊ¥•Âè∞7-3\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö10:00-20:00\nüí° ÁâπËâ≤ÔºöÂúãÈöõÁ≤æÂìÅ„ÄÅÈÅãÂãïÂìÅÁâåÈΩäÂÖ®ÔºåÊóÅÈÇäÊúâ Aeon Mall„ÄÇ",
                        address: "Kobe-Sanda Premium Outlets",
                        detailedGuide: {
                            title: "‰∫§ÈÄöÊîªÁï•ÔºöÂâçÂæÄ‰∏âÁî∞ Outlet",
                            strategy: "Áõ¥ÈÅîÁâπÊÄ•Â∑¥Â£´ (Á¥Ñ 50 ÂàÜÈêò)",
                            steps: [
                                { icon: "Footprints", title: "Step 1: Ê≠•Ë°åËá≥Á•ûÂß¨Â∑¥Â£´Á∏ΩÁ´ô", desc: "‰ΩçÁΩÆÔºöJR ‰∏âÂÆÆÁ´ôÊù±Âè£È´òÊû∂Ê©ã‰∏ã„ÄÇ" },
                                { icon: "Ticket", title: "Step 2: Ë≥ºÁ•®ËàáÊê≠Ëªä", desc: "üöå Ë∑ØÁ∑öÔºöÁâπÊÄ•Â∑¥Â£´„Äå‰∏âÂÆÆÔΩû‰∏âÁî∞ Premium Outlets Á∑ö„Äç„ÄÇ\nüí∞ Ë≤ªÁî®ÔºöÂñÆÁ®ãÁ¥Ñ 670 Êó•Âúì„ÄÇ" }
                            ]
                        }
                    },
                    { 
                        type: 'food', 
                        time: "18:00", 
                        title: "ÊôöÈ§êÔºöUnagi Kikugawa (‰∏ÄÊú¨È∞ª)", 
                        desc: "‰æÜËá™ÂêçÂè§Â±ãÁöÑ90Âπ¥ËÄÅÂ∫óÔºåÁèæÊÆ∫ÁèæÁÉ§„ÄÇ", 
                        subDesc: "üí∞ Âπ≥ÂùáÈ†êÁÆóÔºöÁ¥Ñ ¬•4,000 ~ ¬•6,000\nüìç Âú∞ÂùÄÔºöÂä†Á¥çÁî∫4-8-17 (Iconic Kobe 1F)\n‚è∞ ÁáüÊ•≠ÊôÇÈñìÔºö12:00-15:00, 17:00-22:00\nüí° ÁâπËâ≤ÔºöÊï¥Â∞æÈ∞ªÈ≠ö‰∏çÂàáÊÆµÁõ¥Êé•ÁÉ§ÔºåÂ§ñÁöÆÈÖ•ËÑÜËÇâË≥™ËªüÂ´©„ÄÇ",
                        tags: ["Á±≥ÂÖ∂ÊûóÊé®Ëñ¶", "È∞ªÈ≠öÈ£Ø"],
                        address: "4 Chome-8-17 Kanocho, Kobe" 
                    }
                ]
                },
                {
                day: 8,
                date: "1/18 (Êó•)",
                location: "ËøîÁ®ã",
                weather: "Êô¥Êúó 9¬∞C",
                events: [
                    { type: 'transport', time: "Êó©Êô®", title: "ÂâçÂæÄÊ©üÂ†¥", desc: "Êê≠‰πòË®àÁ®ãËªäÊàñ Port Liner ÂâçÂæÄÁ•ûÊà∂Ê©üÂ†¥" },
                    { type: 'flight', time: "13:30", title: "ËøîÁ®ãËà™Áè≠", desc: "UKB -> RMQ" }
                ]
                }
            ]
        };

        // --- UI ÂÖÉ‰ª∂ ---

        const Tag = ({ text, color = "bg-orange-100 text-orange-800" }) => (
            <span className={`text-[10px] px-2 py-1 rounded-full mr-1 ${color} font-medium tracking-wide whitespace-nowrap`}>
                {text}
            </span>
        );

        const NavButton = ({ address, className = "" }) => {
            if (!address) return null;
            const handleNav = (e) => {
                e.stopPropagation();
                window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`, '_blank');
            };
            return (
                <button onClick={handleNav} className={`flex items-center gap-1 bg-emerald-600 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm active:scale-95 transition-transform ${className}`}>
                    <Navigation size={12} /><span>Â∞éËà™</span>
                </button>
            );
        };

        const InfoCard = ({ icon: Icon, title, content, subContent, image }) => (
            <div className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-4 overflow-hidden">
                {image && (
                    <div className="h-48 -mx-5 -mt-5 mb-4 overflow-hidden relative">
                        <img src={image} alt={title} className="w-full h-full object-cover" />
                    </div>
                )}
                <div className="flex gap-4 items-start">
                    <div className="bg-stone-50 p-3 rounded-xl shrink-0">
                        <Icon className="text-stone-600" size={24} />
                    </div>
                    <div className="flex-1">
                        <h3 className="text-xs text-stone-400 font-bold uppercase tracking-wider mb-1">{title}</h3>
                        <div className="text-stone-800 font-bold text-lg leading-tight mb-1">{content}</div>
                        {subContent && <div className="text-stone-500 text-sm">{subContent}</div>}
                    </div>
                </div>
            </div>
        );

        // Ë®òÂ∏≥ÂÖÉ‰ª∂ - ÊîØÊè¥Êú¨Âú∞ÂÑ≤Â≠ò fallback
        const AccountingTab = ({ db, isOfflineMode }) => {
            const [items, setItems] = useState([]);
            const [newItem, setNewItem] = useState({ name: '', price: '', payer: 'ÂÖ¨Ë≤ª' });
            const [loading, setLoading] = useState(false);
            const [errorMsg, setErrorMsg] = useState(null);

            useEffect(() => {
                if (isOfflineMode) {
                    // Èõ¢Á∑öÊ®°ÂºèÔºöËÆÄÂèñ Local Storage
                    try {
                        const localData = localStorage.getItem('expenses');
                        if (localData) {
                            setItems(JSON.parse(localData));
                        }
                    } catch (e) {
                        console.error("Local storage read error", e);
                    }
                    return;
                }

                if (!db) {
                    setErrorMsg("ÁÑ°Ê≥ïÈÄ£Êé•Ë≥áÊñôÂ∫´ÔºåË´ãÊ™¢Êü•Ë®≠ÂÆö„ÄÇ");
                    return;
                }
                
                try {
                    const q = query(collection(db, "expenses"), orderBy("timestamp", "desc"));
                    const unsubscribe = onSnapshot(q, (snapshot) => {
                        const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                        setItems(data);
                    }, (error) => {
                        console.error("Firestore snapshot error:", error);
                        // Â¶ÇÊûúÂú®Áõ£ËÅΩÊôÇÊñ∑Á∑öÔºå‰πüÂàáÊèõÈ°ØÁ§∫Êú¨Âú∞Ë≥áÊñô (ÂîØËÆÄ) ÊàñÊèêÁ§∫ÈåØË™§
                        setErrorMsg("ËÆÄÂèñÈõ≤Á´ØË≥áÊñôÂ§±ÊïóÔºö" + error.message);
                    });
                    return () => unsubscribe();
                } catch (err) {
                    console.error("Error setting up listener:", err);
                }
            }, [db, isOfflineMode]);

            const handleAdd = async (e) => {
                e.preventDefault();
                if (!newItem.name || !newItem.price) return;
                setLoading(true);

                const newExpense = {
                    ...newItem,
                    price: Number(newItem.price),
                    timestamp: isOfflineMode ? new Date().toISOString() : serverTimestamp()
                };

                try {
                    if (isOfflineMode) {
                        // Èõ¢Á∑öÊ®°ÂºèÔºöÂØ´ÂÖ• Local Storage
                        const newItems = [{ id: Date.now().toString(), ...newExpense }, ...items];
                        setItems(newItems);
                        localStorage.setItem('expenses', JSON.stringify(newItems));
                    } else {
                        // Á∑ö‰∏äÊ®°ÂºèÔºöÂØ´ÂÖ• Firebase
                        await addDoc(collection(db, "expenses"), newExpense);
                    }
                    setNewItem({ name: '', price: '', payer: 'ÂÖ¨Ë≤ª' });
                } catch (error) {
                    console.error("Êñ∞Â¢ûÂ§±Êïó: " + error.message);
                    alert("Êñ∞Â¢ûÂ§±Êïó: " + error.message);
                }
                setLoading(false);
            };

            const handleDelete = async (id) => {
                // ÁßªÈô§ confirm ÈÅøÂÖç UI ÈòªÊìã
                try {
                    if (isOfflineMode) {
                        // Èõ¢Á∑öÊ®°ÂºèÔºöÂà™Èô§ Local Storage
                        const newItems = items.filter(item => item.id !== id);
                        setItems(newItems);
                        localStorage.setItem('expenses', JSON.stringify(newItems));
                    } else {
                        // Á∑ö‰∏äÊ®°ÂºèÔºöÂà™Èô§ Firebase
                        await deleteDoc(doc(db, "expenses", id));
                    }
                } catch (e) {
                    console.error("Âà™Èô§Â§±Êïó", e);
                }
            };

            const total = items.reduce((sum, item) => sum + (item.price || 0), 0);

            if (errorMsg && !isOfflineMode) {
                return (
                    <div className="pt-10 px-6 text-center">
                        <div className="bg-red-50 text-red-600 p-4 rounded-xl border border-red-200">
                            <AlertTriangle className="mx-auto mb-2" />
                            <p className="font-bold mb-2">ÁÑ°Ê≥ï‰ΩøÁî®Ë®òÂ∏≥ÂäüËÉΩ</p>
                            <p className="text-sm">{errorMsg}</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="pt-4 pb-20 animate-fade-in">
                    <div className="bg-white p-6 rounded-3xl shadow-sm border border-stone-100 mb-6">
                        <div className="text-center mb-6">
                            <h2 className="text-stone-400 text-xs font-bold uppercase tracking-widest mb-1">Á∏ΩÊîØÂá∫ (Êó•Âúì)</h2>
                            <div className="text-4xl font-bold text-stone-800">¬• {total.toLocaleString()}</div>
                            {isOfflineMode && <div className="text-xs text-amber-600 mt-1 flex items-center justify-center gap-1"><Save size={12}/> Ë≥áÊñôÂÑ≤Â≠òÊñºÊú¨Ê©ü</div>}
                        </div>

                        <form onSubmit={handleAdd} className="space-y-3">
                            <input 
                                type="text" 
                                placeholder="È†ÖÁõÆÂêçÁ®± (‰æãÂ¶Ç: Á´†È≠öÁáí)" 
                                value={newItem.name}
                                onChange={e => setNewItem({...newItem, name: e.target.value})}
                                className="w-full p-3 bg-stone-50 rounded-xl border border-stone-200 focus:border-stone-400 outline-none text-sm"
                            />
                            <div className="flex gap-2">
                                <input 
                                    type="number" 
                                    placeholder="ÈáëÈ°ç" 
                                    value={newItem.price}
                                    onChange={e => setNewItem({...newItem, price: e.target.value})}
                                    className="w-2/3 p-3 bg-stone-50 rounded-xl border border-stone-200 focus:border-stone-400 outline-none text-sm"
                                />
                                <select 
                                    value={newItem.payer}
                                    onChange={e => setNewItem({...newItem, payer: e.target.value})}
                                    className="w-1/3 p-3 bg-stone-50 rounded-xl border border-stone-200 text-sm"
                                >
                                    <option>ÂÖ¨Ë≤ª</option>
                                    <option>ÂÄã‰∫∫</option>
                                </select>
                            </div>
                            <button 
                                type="submit" 
                                disabled={loading}
                                className="w-full bg-stone-800 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform flex justify-center items-center gap-2"
                            >
                                {loading ? <div className="loader w-4 h-4 border-white border-t-transparent"></div> : <Plus size={18} />}
                                Êñ∞Â¢ûÁ¥ÄÈåÑ
                            </button>
                        </form>
                    </div>

                    <div className="space-y-3">
                        {items.map(item => (
                            <div key={item.id} className="bg-white p-4 rounded-xl shadow-sm border border-stone-100 flex justify-between items-center">
                                <div>
                                    <div className="font-bold text-stone-800">{item.name}</div>
                                    <div className="text-xs text-stone-400">{item.payer} ‚Ä¢ {isOfflineMode ? new Date(item.timestamp).toLocaleDateString() : item.timestamp?.toDate().toLocaleDateString()}</div>
                                </div>
                                <div className="flex items-center gap-3">
                                    <span className="font-mono font-bold text-stone-700">¬•{item.price.toLocaleString()}</span>
                                    <button onClick={() => handleDelete(item.id)} className="text-stone-300 hover:text-red-500">
                                        <Trash2 size={16} />
                                    </button>
                                </div>
                            </div>
                        ))}
                        {items.length === 0 && (
                            <div className="text-center text-stone-400 text-sm py-10">
                                Â∞öÊú™ÊúâË®òÂ∏≥Á¥ÄÈåÑ
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // ‰∫§ÈÄöÂç°ÁâáÂÖÉ‰ª∂
        const TransportGuideCard = ({ guide, isEmbedded = false }) => (
            <div className={`bg-white rounded-2xl overflow-hidden ${isEmbedded ? 'mt-4 border border-stone-200 shadow-sm' : 'shadow-sm border border-stone-100 mb-6'}`}>
                <div className="bg-stone-800 p-4 text-white">
                    <h3 className="font-bold text-base md:text-lg">{guide.title || "ÁßªÂãïÊîªÁï•"}</h3>
                    <div className="flex items-center gap-1 text-stone-300 text-xs mt-1">
                        <Train size={14} /><span>{guide.strategy}</span>
                    </div>
                </div>
                <div className="p-4 space-y-4 bg-stone-50/50">
                    {guide.steps.map((step, idx) => {
                        const StepIcon = getIcon(step.icon); // ‰ΩøÁî® getIcon ÂáΩÂºè
                        return (
                            <div key={idx} className="flex gap-4 items-start relative pb-4 last:pb-0">
                                {idx !== guide.steps.length - 1 && <div className="absolute left-[19px] top-8 bottom-0 w-0.5 bg-stone-200"></div>}
                                <div className="z-10 bg-indigo-50 text-indigo-600 p-2 rounded-full shrink-0 border-2 border-white shadow-sm">
                                    <StepIcon size={16} />
                                </div>
                                <div>
                                    <h4 className="font-bold text-stone-800 text-sm mb-1">{step.title}</h4>
                                    <p className="text-xs text-stone-600 leading-relaxed whitespace-pre-line">{step.desc}</p>
                                </div>
                            </div>
                        );
                    })}
                </div>
            </div>
        );

        // Day Card
        const DayCard = ({ dayData, isExpanded, onToggle }) => (
            <div className="mb-4 rounded-3xl overflow-hidden bg-white shadow-sm border border-stone-100 transition-all duration-300">
                <div onClick={onToggle} className={`p-5 flex items-center justify-between cursor-pointer active:bg-stone-50 ${isExpanded ? 'bg-stone-800 text-white' : 'bg-white text-stone-800'}`}>
                    <div>
                        <div className={`text-xs font-bold tracking-widest uppercase mb-1 text-stone-400`}>DAY {dayData.day}</div>
                        <h2 className="text-xl font-bold">{dayData.date}</h2>
                    </div>
                    <div className="flex items-center gap-3">
                        <div className={`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${isExpanded ? 'bg-stone-700 text-stone-200' : 'bg-stone-100 text-stone-600'}`}>
                            <CloudSun size={14} />{dayData.weather}
                        </div>
                        {isExpanded ? <ChevronUp /> : <ChevronDown />}
                    </div>
                </div>
                {isExpanded && (
                    <div className="p-4 bg-stone-50 space-y-4">
                        {dayData.events.map((event, idx) => {
                            let Icon = MapPin;
                            let themeClass = "border-l-4 border-stone-300";
                            if (event.type === 'food') { Icon = Utensils; themeClass = "border-l-4 border-orange-300"; }
                            if (event.type === 'transport') { Icon = Train; themeClass = "border-l-4 border-blue-300"; }
                            if (event.type === 'shopping') { Icon = ShoppingBag; themeClass = "border-l-4 border-pink-300"; }
                            if (event.type === 'flight') { Icon = Plane; themeClass = "border-l-4 border-sky-300"; }
                            if (event.type === 'hotel') { Icon = BedDouble; themeClass = "border-l-4 border-indigo-300"; }
                            if (event.type === 'spot') { Icon = Camera; }
                            
                            // üî• ‰øÆÊ≠£ÔºöÂæûÂ≠ó‰∏≤ÂêçÁ®±ËºâÂÖ•Â∞çÊáâÂúñÁ§∫
                            if (event.icon) { 
                                Icon = getIcon(event.icon); 
                            }
                            
                            return (
                                <div key={idx} className={`bg-white p-4 rounded-xl shadow-sm ${themeClass} relative group`}>
                                    <div className="flex justify-between items-start mb-2">
                                        <div className="flex items-center gap-2 text-stone-500 text-xs font-mono">
                                            <Icon size={14} /><span>{event.time}</span>
                                        </div>
                                        {event.address && <NavButton address={event.address} />}
                                    </div>
                                    <h3 className="font-bold text-stone-800 text-lg mb-1">{event.title}</h3>
                                    <div className="flex flex-wrap gap-2 mb-2">
                                        {event.tags?.map(t => <Tag key={t} text={t} color={t.includes("ÂøÖ") ? "bg-red-100 text-red-800" : "bg-stone-100 text-stone-600"} />)}
                                    </div>
                                    <p className="text-stone-600 text-sm whitespace-pre-line leading-relaxed">{event.desc}</p>
                                    {event.subDesc && <div className="mt-2 text-xs text-stone-500 whitespace-pre-line bg-stone-50 p-2 rounded border border-stone-100">{event.subDesc}</div>}
                                    {event.attractions && (
                                        <div className="mt-4 grid gap-2">
                                            {event.attractions.map((attr, i) => (
                                                <div key={i} className="flex gap-2 items-start bg-stone-50 p-2 rounded-lg border border-stone-100">
                                                    <span className="shrink-0 bg-stone-200 text-stone-700 text-[10px] px-2 py-0.5 rounded font-bold">{attr.label}</span>
                                                    <span className="text-xs text-stone-700 whitespace-pre-line">{attr.text}</span>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                    {event.detailedGuide && <TransportGuideCard guide={event.detailedGuide} isEmbedded={true} />}
                                    {event.isImportant && (
                                        <div className="mt-3 bg-amber-50 p-3 rounded-lg border border-amber-100 flex gap-2">
                                            <Info className="text-amber-500 shrink-0" size={16} />
                                            <span className="text-xs text-amber-800 font-medium">Ë´ãÁâπÂà•Ê≥®ÊÑèÊ≠§ÊÆµ‰∫§ÈÄöÊåáÁ§∫</span>
                                        </div>
                                    )}
                                </div>
                            );
                        })}
                    </div>
                )}
            </div>
        );

        // ‰∏ªÁ®ãÂºè
        const App = () => {
            const [tripData, setTripData] = useState(null);
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [password, setPassword] = useState('');
            const [authError, setAuthError] = useState(false);
            const [activeTab, setActiveTab] = useState('itinerary');
            const [expandedDay, setExpandedDay] = useState(1);
            const [isUploading, setIsUploading] = useState(false);
            const [dbError, setDbError] = useState(null); // Êñ∞Â¢ûÔºöË≥áÊñôÂ∫´ÈåØË™§ÁãÄÊÖã
            const [isLoading, setIsLoading] = useState(false);
            // Êñ∞Â¢ûÈõ¢Á∑öÁãÄÊÖãÔºåÈ†êË®≠ÁÇ∫ falseÔºåÂè™ÊúâÂú®ÈÄ£Á∑öÂ§±ÊïóÊôÇÊâçË®≠ÁÇ∫ true
            const [isOffline, setIsOffline] = useState(false);

            // Ê™¢Êü• Session
            useEffect(() => {
                const unlocked = sessionStorage.getItem('trip_unlocked_secure');
                if (unlocked === 'true') setIsAuthenticated(true);
            }, []);

            // ËÆÄÂèñ Firebase Ë≥áÊñô
            useEffect(() => {
                if (!isAuthenticated || !db) return;

                const fetchTripData = async () => {
                    setIsLoading(true);
                    // ÊØèÊ¨°ÂòóË©¶ËÆÄÂèñÂâçÂÖàÈáçÁΩÆÈõ¢Á∑öÁãÄÊÖã
                    setIsOffline(false);
                    try {
                        const docRef = doc(db, "trips", "japan2026_v2");
                        const docSnap = await getDoc(docRef);

                        if (docSnap.exists()) {
                            setTripData(docSnap.data());
                            setDbError(null);
                        } else {
                            console.log("No such document! Using default data locally.");
                            setTripData(DEFAULT_TRIP_DATA);
                            setDbError(null);
                        }
                    } catch (error) {
                        console.error("Error fetching trip data:", error);
                        // Âè™ÊúâÂú®ÁôºÁîüÈÄ£Á∑öÈåØË™§ÊôÇÊâçË®≠ÁÇ∫Èõ¢Á∑öÊ®°Âºè
                        if (error.code === 'permission-denied' || error.message.includes('Cloud Firestore API') || error.message.includes('offline') || error.message.includes('Could not reach')) {
                             setIsOffline(true);
                             // Â¶ÇÊûúÊòØÈõ¢Á∑öÔºå‰∏çÈ°ØÁ§∫ÈåØË™§Ë®äÊÅØÔºåÂè™È°ØÁ§∫Èõ¢Á∑öÊèêÁ§∫Ê¢ù
                             setDbError(null);
                        } else {
                            setDbError("ËÆÄÂèñÂ§±ÊïóÔºö" + error.message);
                        }
                        // ÁôºÁîüÈåØË™§ÊôÇ‰ΩøÁî®È†êË®≠Ë≥áÊñô
                        setTripData(DEFAULT_TRIP_DATA);
                    } finally {
                        setIsLoading(false);
                    }
                };

                fetchTripData();
            }, [isAuthenticated]);

            const handleUnlock = (e) => {
                e.preventDefault();
                const cleanInput = password.replace(/[Ôºê-Ôºô]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xFEE0)).trim();
                
                if (cleanInput === '1115') {
                    setIsAuthenticated(true);
                    sessionStorage.setItem('trip_unlocked_secure', 'true');
                } else {
                    setAuthError(true);
                    setPassword('');
                }
            };

            const uploadDefaultData = async () => {
                if (!db) {
                    setDbError("Firebase Â∞öÊú™Ë®≠ÂÆöÔºÅË´ãÊ™¢Êü•Á®ãÂºèÁ¢º‰∏≠ÁöÑË®≠ÂÆö");
                    return;
                }
                
                setIsUploading(true);
                setDbError(null);
                
                try {
                    await setDoc(doc(db, "trips", "japan2026_v2"), DEFAULT_TRIP_DATA);
                    setTripData(DEFAULT_TRIP_DATA);
                    setDbError(null);
                    // ‰∏äÂÇ≥ÊàêÂäüÂæåÁ¢∫Ë™çÁÇ∫ÈÄ£Á∑öÁãÄÊÖã
                    setIsOffline(false); 
                    alert("‰∏äÂÇ≥ÊàêÂäüÔºÅÁèæÂú®Ë≥áÊñôÂ∑≤Âú®Èõ≤Á´Ø„ÄÇ");
                } catch (e) {
                    console.error("Full error:", e);
                    let msg = e.message;
                    if (e.code) msg = `Code: ${e.code} - ${msg}`;
                    
                    if (msg.includes('permission-denied')) {
                        setDbError("Ê¨äÈôêË¢´Êãí (Permission Denied)Ôºö\nË´ãÊ™¢Êü• Firestore ÊòØÂê¶Â∑≤Âª∫Á´ãÔºå‰∏¶‰∏îË¶èÂâáË®≠ÁÇ∫Ê∏¨Ë©¶Ê®°Âºè (allow read, write: if true;)");
                    } else if (msg.includes('not found') || msg.includes('API')) {
                        setDbError("Êâæ‰∏çÂà∞Ë≥áÊñôÂ∫´ (Not Found)Ôºö\nË´ãÂãôÂøÖÂéª Firebase Console -> Build -> Firestore Database Êåâ‰∏ã„ÄåÂª∫Á´ãË≥áÊñôÂ∫´„ÄçÔºÅ");
                    } else if (msg.includes('offline')) {
                         setDbError("Èõ¢Á∑öÁãÄÊÖãÔºöÁÑ°Ê≥ï‰∏äÂÇ≥Ë≥áÊñôÔºåË´ãÊ™¢Êü•Á∂≤Ë∑ØÈÄ£Á∑ö„ÄÇ");
                         setIsOffline(true);
                    } else {
                        setDbError("‰∏äÂÇ≥ÁôºÁîüÊú™È†êÊúüÈåØË™§Ôºö\n" + msg);
                    }
                }
                setIsUploading(false);
            };

            if (!isAuthenticated) {
                return (
                    <div className="fixed inset-0 bg-stone-100 flex items-center justify-center z-50 p-4">
                        <div className="bg-white p-8 rounded-3xl shadow-xl w-full max-w-sm text-center">
                            <div className="bg-stone-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                                <Lock className="text-stone-600" size={32} />
                            </div>
                            <h2 className="text-2xl font-bold text-stone-800 mb-2">Ë°åÁ®ãÂ∑≤‰∏äÈéñ</h2>
                            <p className="text-stone-500 text-sm mb-6">Ë´ãËº∏ÂÖ• 4 ‰ΩçÊï∏ÈÄöÈóúÂØÜÁ¢º</p>
                            <form onSubmit={handleUnlock} className="space-y-4" noValidate>
                                <div className="relative">
                                    <KeyRound className="absolute left-3 top-1/2 -translate-y-1/2 text-stone-400" size={18} />
                                    <input 
                                        type="password" 
                                        inputMode="numeric"
                                        autoComplete="off"
                                        value={password} 
                                        onChange={(e) => { 
                                            // ‰øÆÊ≠£ÔºöÂÉÖË®≠ÂÆöÁãÄÊÖãÔºå‰∏çÂÅöÂç≥ÊôÇÂ≠óÂÖÉÊõøÊèõÔºåÈÅøÂÖçÈáçË§áËº∏ÂÖ•ÂïèÈ°å
                                            setPassword(e.target.value); 
                                            setAuthError(false); 
                                        }} 
                                        className="w-full pl-10 pr-4 py-3 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-stone-400 text-center tracking-widest font-bold text-lg" 
                                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" 
                                        maxLength={4} 
                                        autoFocus 
                                    />
                                </div>
                                {authError && <p className="text-red-500 text-xs font-bold animate-pulse">ÂØÜÁ¢ºÈåØË™§</p>}
                                <button type="submit" className="w-full bg-stone-800 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform">Ëß£Èéñ</button>
                            </form>
                            {!isFirebaseReady && <p className="mt-4 text-xs text-red-500">‚ö†Ô∏è Firebase Â∞öÊú™Ë®≠ÂÆöÔºåË´ã‰øÆÊîπÁ®ãÂºèÁ¢ºË≤º‰∏ä Config</p>}
                        </div>
                    </div>
                );
            }

            if (isLoading && !tripData) {
                return (
                    <div className="min-h-screen bg-stone-100 flex flex-col items-center justify-center p-6 text-center">
                        <div className="loader mb-4"></div>
                        <p className="text-stone-500 text-sm">Ë≥áÊñôËÆÄÂèñ‰∏≠ÔºåË´ãÁ®çÂÄô...</p>
                    </div>
                );
            }

            const displayData = tripData || DEFAULT_TRIP_DATA;

            return (
                <div className="min-h-screen bg-stone-100 font-sans text-stone-900 pb-24 max-w-md mx-auto shadow-2xl overflow-hidden relative">
                    
                    {dbError && (
                        <div className="bg-red-600 text-white px-4 py-3 text-center text-sm font-bold sticky top-0 z-[60] shadow-md flex items-center justify-center gap-2 whitespace-pre-wrap">
                            <AlertTriangle size={18} className="shrink-0" />
                            <span>{dbError}</span>
                        </div>
                    )}
                    
                    {isOffline && (
                         <div className="bg-amber-100 text-amber-800 px-4 py-2 text-center text-xs font-bold sticky top-0 z-[60] flex items-center justify-center gap-2">
                            <WifiOff size={14} />
                            <span>ÁõÆÂâçÁÇ∫Èõ¢Á∑öÈ†êË¶ΩÊ®°Âºè (ÁÑ°Ê≥ïÂÑ≤Â≠òË≥áÊñôÂà∞Èõ≤Á´ØÔºå‰ΩÜÂèØË®òÂ∏≥ÊñºÊú¨Ê©ü)</span>
                        </div>
                    )}

                    {/* Header */}
                    <header className="bg-stone-800 text-white p-6 pt-12 rounded-b-[2rem] shadow-lg relative z-10">
                        <div className="flex justify-between items-end">
                            <div>
                                <h1 className="text-3xl font-light tracking-tight mb-1">Â§ßÈò™Á•ûÊà∂ÂØíÂÅáË°å</h1>
                                <p className="text-stone-400 text-xs tracking-widest">2026.01.11 - 01.18</p>
                            </div>
                            <div className="text-right">
                                <div className="text-4xl font-thin">{displayData.itinerary[0]?.weather?.split(' ')[1] || "8¬∞C"}</div>
                                <div className="text-xs text-stone-400">Â§ßÈò™ÁõÆÂâçÈ†êÂ†±</div>
                            </div>
                        </div>
                    </header>

                    {/* Content */}
                    <main className="p-4 -mt-4 relative z-0">
                        {activeTab === 'itinerary' && (
                            <div className="animate-fade-in pb-10">
                                {displayData.itinerary.map((day) => (
                                    <DayCard key={day.day} dayData={day} isExpanded={expandedDay === day.day} onToggle={() => setExpandedDay(day.day === expandedDay ? null : day.day)} />
                                ))}
                                <div className="mt-8 text-center">
                                    <button onClick={uploadDefaultData} className="text-xs text-stone-400 underline hover:text-stone-600 flex items-center justify-center gap-1 mx-auto">
                                        <RefreshCw size={10} /> ÈáçÁΩÆÈõ≤Á´ØË°åÁ®ãË≥áÊñô
                                    </button>
                                </div>
                            </div>
                        )}

                        {activeTab === 'accounting' && <AccountingTab db={db} isOfflineMode={isOffline} />}

                        {activeTab === 'info' && (
                            <div className="animate-fade-in pt-4 pb-10">
                                
                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 ml-1">Â§ßÈò™ÂøÖË≤∑‰º¥ÊâãÁ¶Æ</h2>
                                <div className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-8 space-y-4">
                                    <div className="bg-orange-50/50 p-3 rounded-xl border border-orange-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-orange-800 text-sm">1. Èï∑Â¥éÂ†ÇÈï∑Â¥éËõãÁ≥ï</span>
                                            <span className="text-[10px] text-stone-400">10:00‚Äì17:30 (‰∫å‰∏â‰ºë)</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">Â§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÂøÉÈΩãÊ©ãÁ≠ã2-1-29</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">ÂâµÁ´ã100ÈÄ±Âπ¥‰ª•‰∏äÔºÅÂ§ßÈò™Â∫úË™çË≠âÁöÑ„ÄåÂ§ßÈò™Áî¢ÂìÅ„ÄçÔºåÂøÖË≤∑Á∂ìÂÖ∏ËúÇËúúËõãÁ≥ï„ÄÇ</p>
                                    </div>
                                    <div className="bg-orange-50/50 p-3 rounded-xl border border-orange-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-orange-800 text-sm">2. ÈòøÂΩåÈôÄÊ±†Â§ßÈªë (Èõ£Ê≥¢Walk)</span>
                                            <span className="text-[10px] text-stone-400">10:00‚Äì21:00</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">Â§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÈõ£Ê≥¢2-1-13</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">ÁâπËâ≤„ÄåÊ†óÁ±≥È¶ô„ÄçÈÖ•ËÑÜÈ¶ôÁîúÔºå„ÄåÂ≤©Á±≥È¶ô„ÄçÂ∏∂ÊúâÁîüËñëËæõËæ£ËàáÈªëÁ≥ñÁîúÂë≥ÔºåÂè£ÊÑüÁ°¨ËÑÜ„ÄÇ</p>
                                    </div>
                                    <div className="bg-orange-50/50 p-3 rounded-xl border border-orange-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-orange-800 text-sm">3. È£üÂÄíÂ§™ÈÉéÂ∏É‰∏Å</span>
                                            <span className="text-[10px] text-stone-400">09:30‚Äì21:30</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">Â§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÈÅìÈ†ìÂ†Ä1-8-25</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">Â§ßÈò™ÊãõÁâå‰∫∫Áâ©„ÄåÈ£üÂÄíÂ§™ÈÉé„ÄçÔºåËêåÁøªÂ§©ÁöÑÂ∞è‰∏ëÂ∏ΩÂåÖË£ùÔºåÂÖßÂê´ÁîúÊªãÊªãÁÑ¶Á≥ñÂ∏É‰∏Å„ÄÇ</p>
                                    </div>
                                    <div className="bg-orange-50/50 p-3 rounded-xl border border-orange-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-orange-800 text-sm">4. ÂçÉÈ≥•Â±ãÂÆóÂÆ∂</span>
                                            <span className="text-[10px] text-stone-400">08:30‚Äì20:00 (Êó•‰ºë)</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">Â§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÊú¨Áî∫3-4-12</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">ÂâµÊ•≠395Âπ¥ÔºåÂøÖË≤∑„Äå„Åø„Åü„Çâ„ÅóÂ∞èÈ§Ö„ÄçÔºåÁ±≥È¶ôÊøÉÂéöÁàÜÊºøÈππÁîúÈÜ¨Ê±Å (‰øùÂ≠òÊúüÈôêÂÉÖ3Â§©)„ÄÇ</p>
                                    </div>
                                    <div className="bg-orange-50/50 p-3 rounded-xl border border-orange-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-orange-800 text-sm">5. UHAÂë≥Ë¶∫Á≥ñ Cororo</span>
                                            <span className="text-[10px] text-stone-400">11:00‚Äì20:00 (ÈÄ±Êú´10:00~)</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">Â§ßÈò™Â∏ÇÂåóÂçÄËßíÁî∞Áî∫8‚àí7 (Èò™ÊÄ•Ê¢ÖÁî∞B1F)</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">È´òÁ¥öÁâàCororoÔºåÂ∞∫ÂØ∏ÊîæÂ§ß1.5ÂÄçÔºåÊûúÊ±ÅÂê´ÈáèÊõ¥È´ò„ÄÇÊé®Ëñ¶Â∑®Â≥∞Ëë°ËêÑ„ÄÅÈ∫ùÈ¶ôËë°ËêÑÂè£Âë≥„ÄÇ</p>
                                    </div>
                                </div>

                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 ml-1">Â§ßÈò™ÂøÖË≤∑Ëó•Â¶ù & ÈõªÂô®</h2>
                                <div className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-8 space-y-4">
                                    <div className="bg-blue-50/50 p-3 rounded-xl border border-blue-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-blue-800 text-sm">1. È©öÂÆâÊÆøÂ†ÇÂîêÂêâËªªÂæ∑ (ÈÅìÈ†ìÂ†Ä)</span>
                                            <span className="text-[10px] text-stone-400">24H ÁáüÊ•≠</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">7-13 Souemoncho, Chuo Ward, Osaka</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">ÂïÜÂìÅÁ®ÆÈ°ûÊúÄÈΩäÂÖ®Ôºå24Â∞èÊôÇÁáüÊ•≠Èö®ÊôÇÂèØÈÄõÔºåËó•Â¶ùÈõ∂È£üÈõªÂô®‰∏ÄÁ´ôË≥ºË∂≥„ÄÇ</p>
                                    </div>
                                    <div className="bg-blue-50/50 p-3 rounded-xl border border-blue-100">
                                        <div className="flex justify-between items-baseline mb-1">
                                            <span className="font-bold text-blue-800 text-sm">2. Bic Camera Èõ£Ê≥¢Â∫ó</span>
                                            <span className="text-[10px] text-stone-400">10:00-22:00</span>
                                        </div>
                                        <div className="text-[10px] text-stone-500 mb-1">2 Chome-10-1 Sennichimae, Chuo Ward, Osaka</div>
                                        <p className="text-xs text-stone-600 leading-relaxed">Â§ßÂûãÈõªÂô®ÈÄ£ÈéñÂ∫óÔºåÂêÑÈ°ûÂÆ∂Èõª„ÄÅÁæéÂÆπÂÑÄÂô®„ÄÅÈÅäÊà≤‰∏ªÊ©üÊáâÊúâÁõ°Êúâ„ÄÇ</p>
                                    </div>
                                </div>

                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 ml-1">ÈªëÈñÄÂ∏ÇÂ†¥ ÁæéÈ£üÊîªÁï•</h2>
                                <div className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-8 space-y-4">
                                    <div className="flex gap-4 items-start mb-4">
                                        <div className="bg-red-50 p-3 rounded-xl shrink-0 border border-red-100">
                                            <Store className="text-red-600" size={24} />
                                        </div>
                                        <div>
                                            <h3 className="font-bold text-lg text-stone-800">ÈªëÈñÄÂ∏ÇÂ†¥</h3>
                                            <p className="text-xs text-stone-500 mt-1">Â§ßÈò™Â∏Ç‰∏≠Â§ÆÂçÄÊó•Êú¨Ê©ã2-4-1</p>
                                            <div className="flex gap-2 mt-2">
                                                <span className="bg-stone-100 text-stone-600 text-[10px] px-2 py-1 rounded">Ë∑ùÈ£ØÂ∫óÊ≠•Ë°å 5 ÂàÜ</span>
                                                <span className="bg-stone-100 text-stone-600 text-[10px] px-2 py-1 rounded">08:00-17:00</span>
                                            </div>
                                        </div>
                                    </div>
                                    <hr className="border-stone-100" />
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-3 border-l-4 border-orange-400 pl-2">ÂøÖÂêÉÊó©È§ê & Â∞èÂêÉ</h4>
                                        <div className="space-y-3">
                                            <div className="bg-stone-50 p-3 rounded-xl border border-stone-100"><span className="font-bold text-stone-800 text-sm">1. È´òÊ©ãÈ£üÂìÅË±ÜÊºø</span> <p className="text-xs text-stone-500 mt-1">ÈóúË•øÁ¨¨‰∏ÄÂêçË±ÜÊºøÔºå99Âπ¥ËÄÅÂ∫óÔºåÊó©È§êÈ¶ñÈÅ∏„ÄÇ</p></div>
                                            <div className="bg-stone-50 p-3 rounded-xl border border-stone-100"><span className="font-bold text-stone-800 text-sm">2. Áü≥Ê©ãÈ£üÂìÅÈóúÊù±ÁÖÆ</span> <p className="text-xs text-stone-500 mt-1">Âè§Ê≥ïÁÉπË™øÔºåÊπØÈ†≠ÈÆÆÁæéÔºåËòøËîîÂÖ•Âë≥„ÄÇ</p></div>
                                            <div className="bg-stone-50 p-3 rounded-xl border border-stone-100"><span className="font-bold text-stone-800 text-sm">3. „Åæ„Åê„Çç„ÇÑÈªíÈäÄÈÆ™È≠ö</span> <p className="text-xs text-stone-500 mt-1">ÂøÖÈªû„ÄåÈªëÈÆ™È≠öÂâçËÖπËÇâ„ÄçÔºåÂÖ•Âè£Âç≥Âåñ„ÄÇ</p></div>
                                            <div className="bg-stone-50 p-3 rounded-xl border border-stone-100"><span className="font-bold text-stone-800 text-sm">4. È≠öÁ¶èÁÉ§ÊâáË≤ù</span> <p className="text-xs text-stone-500 mt-1">Â•∂Ê≤πÁÉ§ÊâáË≤ùÂøÖÂêÉÔºÅÈÇÑÊúâÁèæÂâùÊµ∑ËÜΩ„ÄÇ</p></div>
                                            <div className="bg-stone-50 p-3 rounded-xl border border-stone-100"><span className="font-bold text-stone-800 text-sm">5. Ë•øÂ∑ùÈÆÆÈ≠öÂ∫ó</span> <p className="text-xs text-stone-500 mt-1">ÊØèÊó•Êñ∞ÈÆÆÈÄ≤Ë≤®ÁöÑÁèæÂâñÊµ∑ËÜΩÂíåÁîüË†î„ÄÇ</p></div>
                                            <div className="bg-stone-50 p-3 rounded-xl border border-stone-100"><span className="font-bold text-stone-800 text-sm">6. ‰∏âÈÉΩÂ±ãËçâËéìÂ§ßÁ¶è</span> <p className="text-xs text-stone-500 mt-1">70Âπ¥ËÄÅÂ∫óÔºåÈÇÑÊúâÈ∫ùÈ¶ôËë°ËêÑÂè£Âë≥ËàáËï®È§Ö„ÄÇ</p></div>
                                        </div>
                                    </div>
                                    <hr className="border-stone-100" />
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-3 border-l-4 border-pink-400 pl-2">Ëó•Â¶ù & ÂøÖË≤∑</h4>
                                        <div className="space-y-3">
                                            <div className="bg-pink-50/50 p-3 rounded-xl border border-pink-100">
                                                <span className="font-bold text-pink-800 text-sm">1. OS Drug</span>
                                                <p className="text-xs text-stone-600 leading-relaxed mt-1">ÂÉπÊ†ºÊ•µÂÖ∑Á´∂Áà≠ÂäõÔºÅ<span className="font-bold text-red-500">Ê≥®ÊÑèÔºö‰∏çÈÄÄÁ®Ö„ÄÅ‰∏çÂà∑Âç° (ÂÉÖÊî∂ÁèæÈáë)</span>„ÄÇ</p>
                                            </div>
                                            <div className="bg-pink-50/50 p-3 rounded-xl border border-pink-100">
                                                <span className="font-bold text-pink-800 text-sm">2. ÈªëÈñÄ‰∏≠Â∑ùË∂ÖÂ∏Ç</span>
                                                <p className="text-xs text-stone-600 leading-relaxed mt-1">24H ÁáüÊ•≠ÔºåÁîüÈÆÆËî¨Êûú„ÄÅÈõ∂È£üË£úË≤®Â•ΩÂéªËôï„ÄÇ</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 ml-1">Á•ûÊà∂Ëá®Êµ∑Ê®ÇÂúí ÊôØÈªûÊîªÁï•</h2>
                                <div className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-8 space-y-4">
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-3 border-l-4 border-indigo-400 pl-2">Ë≥ºÁâ©‰∏≠ÂøÉ</h4>
                                        <div className="space-y-3">
                                            <div className="bg-indigo-50/50 p-3 rounded-xl border border-indigo-100">
                                                <div className="flex items-center gap-1 mb-1"><ShoppingBag size={14} className="text-indigo-600"/><span className="font-bold text-stone-800 text-xs">umie Ë≥ºÁâ©‰∏≠ÂøÉ (ÂåóÈ§®/ÂçóÈ§®)</span></div>
                                                <p className="text-[10px] text-stone-500">Uniqlo, GU, ZARA, H&M, GAP, ÁÑ°Âç∞ËâØÂìÅ, ABC-MART, 3COINS</p>
                                            </div>
                                            <div className="bg-indigo-50/50 p-3 rounded-xl border border-indigo-100">
                                                <div className="flex items-center gap-1 mb-1"><Store size={14} className="text-indigo-600"/><span className="font-bold text-stone-800 text-xs">Mosaic È¶¨Ë≥ΩÂÖãÂª£Â†¥</span></div>
                                                <p className="text-[10px] text-stone-500">ÈñãÊîæÂºèÊ≠êÈ¢®ÂïÜÂ†¥ÔºåÁâπËâ≤Â∞èÂ∫óËàáÊµ∑ÊôØÈ§êÂª≥ÊûóÁ´ãÔºåÈÇÑÊúâÈ∫µÂåÖË∂Ö‰∫∫ÂçöÁâ©È§®„ÄÇ</p>
                                            </div>
                                        </div>
                                    </div>
                                    <hr className="border-stone-100" />
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-3 border-l-4 border-sky-400 pl-2">ÂøÖÈÅäÊôØÈªû</h4>
                                        <div className="grid grid-cols-2 gap-3">
                                            <div className="bg-sky-50/50 p-3 rounded-xl border border-sky-100">
                                                <div className="flex items-center gap-1 mb-1"><FerrisWheel size={14} className="text-sky-600"/><span className="font-bold text-stone-800 text-xs">È¶¨Ë≥ΩÂÖãÂ§ßÊë©Â§©Ëº™</span></div>
                                                <p className="text-[10px] text-stone-500">Ë≥ûÂ§úÊôØÁµï‰Ω≥‰ΩçÁΩÆ (¬•800)</p>
                                            </div>
                                            <div className="bg-sky-50/50 p-3 rounded-xl border border-sky-100">
                                                <div className="flex items-center gap-1 mb-1"><Trees size={14} className="text-sky-600"/><span className="font-bold text-stone-800 text-xs">ÁæéÂà©Â†ÖÂÖ¨Âúí</span></div>
                                                <p className="text-[10px] text-stone-500">BE KOBE ÊâìÂç°Âú∞Ê®ô</p>
                                            </div>
                                        </div>
                                    </div>
                                    <hr className="border-stone-100" />
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-3 border-l-4 border-pink-400 pl-2">Âç°ÈÄö & IP Â∞àË≥£Â∫ó</h4>
                                        <div className="grid grid-cols-2 gap-2">
                                            <div className="bg-pink-50/30 p-2 rounded-lg border border-pink-100"><span className="text-xs font-bold text-stone-700">È∫µÂåÖË∂Ö‰∫∫ÂçöÁâ©È§®</span></div>
                                            <div className="bg-pink-50/30 p-2 rounded-lg border border-pink-100"><span className="text-xs font-bold text-stone-700">ÂêâÂçúÂäõÂÖ±ÂíåÂúã</span></div>
                                            <div className="bg-pink-50/30 p-2 rounded-lg border border-pink-100"><span className="text-xs font-bold text-stone-700">Âè≤Âä™ÊØîÂ∞àË≥£Â∫ó</span></div>
                                            <div className="bg-pink-50/30 p-2 rounded-lg border border-pink-100"><span className="text-xs font-bold text-stone-700">KIDDY LAND</span></div>
                                            <div className="bg-pink-50/30 p-2 rounded-lg border border-pink-100"><span className="text-xs font-bold text-stone-700">‰∏âÈ∫óÈ∑óÁ•ûÊà∂Â∫ó</span></div>
                                            <div className="bg-pink-50/30 p-2 rounded-lg border border-pink-100"><span className="text-xs font-bold text-stone-700">ÊãâÊãâÁÜäÂ∞àË≥£Â∫ó</span></div>
                                        </div>
                                    </div>
                                </div>

                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 ml-1">ÂåóÈáéÁï∞‰∫∫È§® Á•®ÂÉπË≥áË®ä</h2>
                                <div className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-8 space-y-4">
                                    
                                    {/* Â•óÁ•®ÂçÄ */}
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-2 border-l-4 border-emerald-500 pl-2">Ë∂ÖÂÄºÂ•óÁ•® (Pass)</h4>
                                        <div className="space-y-3">
                                            <div className="bg-emerald-50/50 p-3 rounded-xl border border-emerald-100">
                                                <div className="flex justify-between items-baseline mb-1">
                                                    <span className="font-bold text-emerald-800 text-sm">Áï∞‰∫∫È§®Â∑°ÈÅäÂ∞äË≤¥ÈÄöË°åË≠â (7È§®+Â±ïÊúõ)</span>
                                                </div>
                                                <div className="text-xs text-stone-600 mb-2">Âê´ÔºöÈ≠öÈ±ó‰πãÂÆ∂„ÄÅÂ±±ÊâãÂÖ´Áï™È§®„ÄÅÂåóÈáéÂ§ñÂúã‰∫∫‰ø±Ê®ÇÈÉ®„ÄÅÂù°ÈÅì‰∏äÁöÑÁï∞‰∫∫È§®„ÄÅËã±ÂúãÈ§®„ÄÅÊ¥ãÈ§®Èï∑Â±ã„ÄÅË≤ùÊÅ©‰πãÂÆ∂</div>
                                                <div className="flex gap-4 text-xs font-mono text-stone-800">
                                                    <span>Êàê‰∫∫ <span className="font-bold">¬•3,300</span></span>
                                                    <span>ÂÖíÁ´• <span className="font-bold">¬•880</span></span>
                                                </div>
                                            </div>

                                            <div className="bg-emerald-50/50 p-3 rounded-xl border border-emerald-100">
                                                <div className="flex justify-between items-baseline mb-1">
                                                    <span className="font-bold text-emerald-800 text-sm">Â±±Êâã4È§®ÈÄöË°åË≠â (4È§®+Â±ïÊúõ)</span>
                                                </div>
                                                <div className="text-xs text-stone-600 mb-2">Âê´ÔºöÈ≠öÈ±ó‰πãÂÆ∂„ÄÅÂ±±ÊâãÂÖ´Áï™È§®„ÄÅÂåóÈáéÂ§ñÂúã‰∫∫‰ø±Ê®ÇÈÉ®„ÄÅÂù°ÈÅì‰∏äÁöÑÁï∞‰∫∫È§®</div>
                                                <div className="flex gap-4 text-xs font-mono text-stone-800">
                                                    <span>Êàê‰∫∫ <span className="font-bold">¬•2,200</span></span>
                                                    <span>ÂÖíÁ´• <span className="font-bold">¬•550</span></span>
                                                </div>
                                            </div>

                                            <div className="bg-emerald-50/50 p-3 rounded-xl border border-emerald-100">
                                                <div className="flex justify-between items-baseline mb-1">
                                                    <span className="font-bold text-emerald-800 text-sm">ÂåóÈáéÈÄö3È§®ÈÄöË°åË≠â</span>
                                                </div>
                                                <div className="text-xs text-stone-600 mb-2">Âê´ÔºöËã±ÂúãÈ§®„ÄÅÊ¥ãÈ§®Èï∑Â±ã„ÄÅË≤ùÊÅ©‰πãÂÆ∂</div>
                                                <div className="flex gap-4 text-xs font-mono text-stone-800">
                                                    <span>Êàê‰∫∫ <span className="font-bold">¬•1,540</span></span>
                                                    <span>ÂÖíÁ´• <span className="font-bold">¬•330</span></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <hr className="border-stone-100" />

                                    {/* ÂñÆÈ§®Á•®ÂÉπÂçÄ */}
                                    <div>
                                        <h4 className="text-sm font-bold text-stone-800 mb-2 border-l-4 border-stone-400 pl-2">ÂñÆÈ§®Á•®ÂÉπ</h4>
                                        <div className="grid gap-2">
                                            <div className="flex justify-between items-center text-xs p-2 bg-stone-50 rounded-lg">
                                                <span className="font-medium text-stone-700">È≠öÈ±ó‰πãÂÆ∂ & Â±ïÊúõÂè∞</span>
                                                <span className="font-mono text-stone-500">Êàê‰∫∫ ¬•1,100 / ÂÖíÁ´• ¬•220</span>
                                            </div>
                                            <div className="flex justify-between items-center text-xs p-2 bg-stone-50 rounded-lg">
                                                <span className="font-medium text-stone-700">Ëã±ÂúãÈ§®</span>
                                                <span className="font-mono text-stone-500">Êàê‰∫∫ ¬•880 / ÂÖíÁ´• ¬•220</span>
                                            </div>
                                            <div className="flex justify-between items-center text-xs p-2 bg-stone-50 rounded-lg">
                                                <span className="font-medium text-stone-700">ÈåØË¶ñËóùË°ìÈ†ò‰∫ãÈ§®</span>
                                                <span className="font-mono text-stone-500">Êàê‰∫∫ ¬•880 / ÂÖíÁ´• ¬•220</span>
                                            </div>
                                            <div className="flex justify-between items-center text-xs p-2 bg-stone-50 rounded-lg">
                                                <span className="font-medium text-stone-700">ÂÖ∂‰ªñÂñÆÈ§® (Ê¥ãÈ§®Èï∑Â±ãÁ≠â)</span>
                                                <span className="font-mono text-stone-500">Êàê‰∫∫ ¬•550 / ÂÖíÁ´• ¬•110</span>
                                            </div>
                                            <div className="flex justify-between items-center text-xs p-2 bg-stone-50 rounded-lg">
                                                <span className="font-medium text-stone-700">È¢®Ë¶ãÈõû‰πãÈ§® (Êï¥‰øÆ‰∏≠)</span>
                                                <span className="font-mono text-stone-500">Êö´ÂÅúÈñãÊîæ</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 ml-1">Ëà™Áè≠Ë≥áË®ä</h2>
                                <InfoCard icon={Plane} title="ÂéªÁ®ãËà™Áè≠" content={`${displayData.flights.outbound.time} - ${displayData.flights.outbound.arrival}`} subContent={`${displayData.flights.outbound.from} -> ${displayData.flights.outbound.to}`} image={displayData.flights.outbound.image} />
                                <InfoCard icon={Plane} title="ÂõûÁ®ãËà™Áè≠" content={`${displayData.flights.inbound.time} - ${displayData.flights.inbound.arrival}`} subContent={`${displayData.flights.inbound.from} -> ${displayData.flights.inbound.to}`} />

                                <h2 className="text-stone-500 text-xs font-bold uppercase tracking-widest mb-4 mt-8 ml-1">‰ΩèÂÆøË≥áË®ä</h2>
                                {displayData.hotels.map((hotel, i) => (
                                    <div key={i} className="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-4 overflow-hidden">
                                        {hotel.image && (
                                            <div className="h-48 -mx-5 -mt-5 mb-4 overflow-hidden relative">
                                                <img src={hotel.image} alt={hotel.name} className="w-full h-full object-cover" />
                                            </div>
                                        )}
                                        <div className="flex gap-2 items-center mb-2">
                                            <div className="bg-indigo-50 text-indigo-600 p-2 rounded-lg"><BedDouble size={20}/></div>
                                            <div>
                                                <div className="text-xs text-stone-400">{hotel.period}</div>
                                                <h3 className="font-bold text-stone-800">{hotel.name}</h3>
                                            </div>
                                        </div>
                                        <div className="text-sm text-stone-600 mb-3">{hotel.address}</div>
                                        <div className="flex gap-2 mb-3">
                                            <span className="text-xs bg-stone-100 px-2 py-1 rounded text-stone-500">In: {hotel.checkIn}</span>
                                            <span className="text-xs bg-stone-100 px-2 py-1 rounded text-stone-500">Out: {hotel.checkOut}</span>
                                        </div>
                                        <div className="text-xs text-stone-500 bg-stone-50 p-2 rounded border border-stone-100">
                                            <span className="font-bold">Note:</span> {hotel.note}
                                        </div>
                                        <div className="mt-3 flex justify-end">
                                            <NavButton address={hotel.address} />
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>

                    {/* Bottom Nav */}
                    <nav className="fixed bottom-6 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md border border-stone-200 shadow-2xl rounded-full px-6 py-3 flex gap-8 items-center z-50">
                        <button onClick={() => setActiveTab('itinerary')} className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'itinerary' ? 'text-stone-800' : 'text-stone-400'}`}>
                            <Calendar size={20} strokeWidth={activeTab === 'itinerary' ? 2.5 : 2} /><span className="text-[10px] font-medium">Ë°åÁ®ã</span>
                        </button>
                        <button onClick={() => setActiveTab('accounting')} className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'accounting' ? 'text-stone-800' : 'text-stone-400'}`}>
                            <Wallet size={20} strokeWidth={activeTab === 'accounting' ? 2.5 : 2} /><span className="text-[10px] font-medium">Ë®òÂ∏≥</span>
                        </button>
                        <button onClick={() => setActiveTab('info')} className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'info' ? 'text-stone-800' : 'text-stone-400'}`}>
                            <Info size={20} strokeWidth={activeTab === 'info' ? 2.5 : 2} /><span className="text-[10px] font-medium">Ë≥áË®ä</span>
                        </button>
                    </nav>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
